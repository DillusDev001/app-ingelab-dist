"use strict";(self.webpackChunkapp_ingelab=self.webpackChunkapp_ingelab||[]).push([[907],{9907:(ee,J,l)=>{l.r(J),l.d(J,{GeneralesModule:()=>te});var p=l(6814),g=l(2232),a=l(95),v=l(3995),b=l(5528),h=l(2999),t=l(4946),G=l(6947);let U=(()=>{class s{constructor(e){this.router=e,this.dataLocalStorage={usuario:null,loggedDate:""},this.formLogin=new a.cw({email:new a.NI("",[a.kI.required,a.kI.email]),password:new a.NI("",[a.kI.required])}),this.selectedTab="Lista Contizaciones",null!=(0,h.WX)()?(this.dataLocalStorage=(0,h.WX)(),null!=this.dataLocalStorage.usuario?this.userLogeado=this.dataLocalStorage.usuario:((0,h.rr)(),(0,b.ni)(this.router))):((0,h.rr)(),(0,b.ni)(this.router))}ngOnInit(){(0,v.wQ)()}onClickButton(e){switch(e){case"Mantenimiento":(0,b.oz)(this.router),this.selectedTab=e;break;case"Lista Contizaciones":(0,b.yg)(this.router),this.selectedTab=e;break;case"Agregar":(0,b.tQ)(this.router)}}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(g.F0))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-index-generales"]],decls:6,vars:14,consts:[[1,"relative","flex","flex-col","gap-4","p-4","w-full","h-full","border","shadow-lg","overflow-auto"],[1,"flex","gap-4","overflow-y-hidden","overflow-x-auto","h-max"],[1,"w-max",3,"id","label","icon","spanClass","selected","click"],[1,"relative","w-full","h-full","overflow-auto"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-custom-tab-button",2),t.NdJ("click",function(){return i.onClickButton("Lista Contizaciones")}),t.qZA(),t.TgZ(3,"app-custom-tab-button",2),t.NdJ("click",function(){return i.onClickButton("Mantenimiento")}),t.qZA()(),t.TgZ(4,"div",3),t._UZ(5,"router-outlet"),t.qZA()()),2&o&&(t.xp6(2),t.Tol("cursor-pointer"),t.Q6J("id","id_servicios_generales_lista")("label","Lista Contizaciones")("icon","")("spanClass","")("selected",i.selectedTab),t.xp6(1),t.Tol("cursor-pointer"),t.Q6J("id","id_servicios_generales_mantenimiento")("label","Mantenimiento")("icon","")("spanClass","")("selected",i.selectedTab))},dependencies:[g.lC,G.D]})}return s})();var N=l(2095),S=l(7459),y=l(9862);let q=(()=>{class s{constructor(e){this.http=e,this.urlBase=S.a,this.urlVersion="/v1",this.urlModule="/cotizacion-general"}cotizacionRegistro(e){return this.http.post(this.urlBase+this.urlVersion+this.urlModule,e)}cotizacionGetLista(){return this.http.get(this.urlBase+this.urlVersion+this.urlModule)}cotizacionGet(e){return this.http.get(this.urlBase+this.urlVersion+this.urlModule+"/"+e)}cotizacionGetNow(e){return this.http.get(this.urlBase+this.urlVersion+this.urlModule+"/now/"+e)}cotizacionActualizar(e,o){return this.http.patch(this.urlBase+this.urlVersion+this.urlModule+"/"+e,o)}cotizacionDelete(e,o){return this.http.patch(this.urlBase+this.urlVersion+this.urlModule+"/"+e,o)}static#t=this.\u0275fac=function(o){return new(o||s)(t.LFG(y.eN))};static#e=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var A=l(4698),x=l(9924),B=l(3325),I=l(2526),T=l(9564),z=l(8613),w=l(6595),F=l(7069),V=l(6236);F.vfs=V.I.vfs;const u="#000000";function R(s){return""===s?"":(0,p.p6)(s,"dd-MM-yyyy","es")}let L=(()=>{class s{constructor(e){this.http=e,this.urlBase=S.a,this.urlVersion="/v1",this.urlModule="/servicio"}servicioRegistro(e){return this.http.post(this.urlBase+this.urlVersion+this.urlModule,e)}servicioGetLista(){return this.http.get(this.urlBase+this.urlVersion+this.urlModule)}servicioGetByID(e){return this.http.get(this.urlBase+this.urlVersion+this.urlModule+"/id_servicio/"+e)}servicioGetByNombre(e){return this.http.get(this.urlBase+this.urlVersion+this.urlModule+"/"+e)}servicioGetListaByTipoServicio(e){return this.http.get(this.urlBase+this.urlVersion+this.urlModule+"/tipo-servicio/"+e)}servicioActualizar(e,o){return this.http.patch(this.urlBase+this.urlVersion+this.urlModule+"/"+e,o)}static#t=this.\u0275fac=function(o){return new(o||s)(t.LFG(y.eN))};static#e=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Q=(()=>{class s{constructor(e){this.http=e,this.urlBase=S.a,this.urlVersion="/v1",this.urlModule="/sub-servicio"}subServicioRegistro(e){return this.http.post(this.urlBase+this.urlVersion+this.urlModule,e)}subServicioGetLista(e){return this.http.get(this.urlBase+this.urlVersion+this.urlModule+"/"+e)}subServicioActualizar(e,o,i){return this.http.patch(this.urlBase+this.urlVersion+this.urlModule+"/"+e+"/"+o,i)}static#t=this.\u0275fac=function(o){return new(o||s)(t.LFG(y.eN))};static#e=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),P=(()=>{class s{constructor(e){this.http=e,this.urlBase=S.a,this.urlVersion="/v1",this.urlModule="/cotizacion-general-sub-servicio"}cotizacionSubServicioAdd(e){return this.http.post(this.urlBase+this.urlVersion+this.urlModule,e)}cotizacionSubServicioGet(e){return this.http.get(this.urlBase+this.urlVersion+this.urlModule+"/"+e)}cotizacionSubServicioDelete(e,o){return this.http.delete(this.urlBase+this.urlVersion+this.urlModule+"/"+e)}static#t=this.\u0275fac=function(o){return new(o||s)(t.LFG(y.eN))};static#e=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var j=l(8496),K=l(1966),H=l(2620),X=l(7661),W=l(1897),$=l(9302),tt=l(5861);function et(s,c){1&s&&t._UZ(0,"app-custom-loading")}function ot(s,c){if(1&s&&(t.TgZ(0,"th",14),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e," ")}}function it(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"tr",15),t.NdJ("click",function(){const r=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.onClickItem(r))}),t.TgZ(1,"th",16),t._uU(2),t.qZA(),t.TgZ(3,"td",17),t._uU(4),t.qZA(),t.TgZ(5,"td",17),t._uU(6),t.qZA()()}if(2&s){const e=c.$implicit,o=c.index;t.xp6(2),t.hij(" ",o+1," "),t.xp6(2),t.hij(" ",e.nombre," "),t.xp6(2),t.hij(" ",e.descripcion," ")}}function st(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5),t._UZ(2,"app-custom-drop-box",6)(3,"app-custom-input",7),t.TgZ(4,"app-custom-button",8),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onClickBuscar())}),t.qZA()(),t.TgZ(5,"div",9)(6,"table",10)(7,"thead",11)(8,"tr"),t.YNc(9,ot,2,1,"th",12),t.qZA()(),t.TgZ(10,"tbody"),t.YNc(11,it,7,3,"tr",13),t.qZA()()(),t.TgZ(12,"app-custom-button",8),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onClickCancel())}),t.qZA()()}if(2&s){const e=t.oxw();t.xp6(2),t.Tol("w-max"),t.Q6J("id","id_drop_box_busqueda")("label","B\xfasqueda...")("control",e.formBusqueda.controls.busqueda)("data",e.dataBusqueda),t.xp6(1),t.Tol(""),t.Q6J("id","id_input_value")("label","B\xfasqueda")("type","text")("autocomplete","")("control",e.formBusqueda.controls.value)("icon",""),t.xp6(1),t.Tol("w-32"),t.Q6J("id","id_btn_busqueda")("label","Buscar")("type","accept")("icon","")("valid",e.formBusqueda.valid),t.xp6(5),t.Q6J("ngForOf",e.tableHeadParametro),t.xp6(2),t.Q6J("ngForOf",e.dataResult),t.xp6(1),t.Tol("w-32"),t.Q6J("id","id_btn_busqueda")("label","Cancelar")("type","cancel")("icon","")("valid",!0)}}let rt=(()=>{class s{constructor(e,o,i){this.router=e,this.servicioService=o,this.toast=i,this.response=new t.vpe,this._ID_TIPO_SERVICIO=1,this.dataBusqueda=N.jl,this.isLoading=!0,this.tableHeadParametro=["#","Servicio","Descripci\xf3n"],this.formBusqueda=new a.cw({busqueda:new a.NI("nombre",[a.kI.required]),value:new a.NI("",[a.kI.required])})}ngOnInit(){(0,v.wQ)(),this.getListaGeneralesAll()}onClickBuscar(){var e=this;return(0,tt.Z)(function*(){if(e.formBusqueda.valid){e.isLoading=!0;const o=String(e.formBusqueda.controls.value.value);e.getListaByNombre(o)}})()}onClickItem(e){this.response.emit(this.dataResult[e])}onClickCancel(){this.response.emit(null)}getListaGeneralesAll(){this.servicioService.servicioGetListaByTipoServicio(this._ID_TIPO_SERVICIO).subscribe(e=>{e.boolean?(this.dataResult=e.data,this.customSuccessToast(e.message)):(this.dataResult=[],this.customErrorToast(e.message)),this.isLoading=!1})}getListaByNombre(e){this.servicioService.servicioGetByNombre(e).subscribe(o=>{o.boolean?(this.dataResult=o.data,this.customSuccessToast(o.message)):(this.dataResult=[],this.customErrorToast(o.message))})}customSuccessToast(e){this.toast.success(e,{duration:2e3,style:{border:"1px solid #2e798c",padding:"16px",color:"#2b6273"},iconTheme:{primary:"#3494a6",secondary:"#FFFAEE"}})}customErrorToast(e){this.toast.error(e,{duration:2e3,style:{border:"1px solid #ef445f",padding:"16px",color:"#ef445f"},iconTheme:{primary:"#ef445f",secondary:"#FFFAEE"}})}customLoadingToast(e){this.toast.loading(e,{duration:1e4,style:{border:"1px solid #2b59c3",padding:"16px",color:"#2b59c3"},iconTheme:{primary:"#2b59c3",secondary:"#FFFAEE"}})}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(g.F0),t.Y36(L),t.Y36(A.jE))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-custom-alert-search-servicio"]],outputs:{response:"response"},decls:4,vars:2,consts:[[1,"flex","justify-center","items-center","w-full","h-full","bg-gray-400","bg-opacity-60","p-4"],[1,"bg-white","rounded-lg","w-full","md:w-max","h-full","md:h-max"],[4,"ngIf"],["class","h-full flex flex-col gap-4 p-4 text-center",4,"ngIf"],[1,"h-full","flex","flex-col","gap-4","p-4","text-center"],[1,"flex","flex-col","md:flex-row","w-full","gap-4","items-center"],[3,"id","label","control","data"],[1,"flex-grow",3,"id","label","type","autocomplete","control","icon"],[3,"id","label","type","icon","valid","click"],[1,"w-full","h-full","relative","overflow-auto"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col","class","px-6 py-3",4,"ngFor","ngForOf"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700 cursor-pointer hover:bg-primary-100",3,"click",4,"ngFor","ngForOf"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","cursor-pointer","hover:bg-primary-100",3,"click"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"px-6","py-4"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,et,1,0,"app-custom-loading",2),t.YNc(3,st,13,30,"div",3),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("ngIf",!i.isLoading))},dependencies:[p.sg,p.O5,x.x,B.E,T.O,z.m]})}return s})();var ct=l(2010),at=l(6994),E=l(7614),nt=l(8343);function lt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-alert-input",7),t.NdJ("onResponse",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.inputDescuentoResponse(i))}),t.qZA()}if(2&s){const e=t.oxw();t.Tol(""),t.Q6J("id","id_input_number")("title",e.labelAlertInput)("label",e.labelAlertInput)("type",e.alertInputType)("icon","")}}function ut(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-alert-search",8),t.NdJ("response",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.busquedaClienteResponse(i))}),t.qZA()}2&s&&t.Q6J("type","cliente")}function dt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-alert-search-servicio",9),t.NdJ("response",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.servicioSelectResponse(i))}),t.qZA()}}function pt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-alert-date-picker",10),t.NdJ("response",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.fechaSelectResponse(i))}),t.qZA()}if(2&s){const e=t.oxw();t.Q6J("label",e.labelDatePicker)("fecha",e.fechaSendDatePicker)("type",e.typeDatePicker)}}function _t(s,c){1&s&&t._UZ(0,"app-custom-loading")}function mt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-icon",42),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.onClickBusquedaCliente())}),t.qZA()}2&s&&(t.Tol("h-full text-color-icon-2 hover:bg-primary-100 rounded"),t.Q6J("icon","fa-solid fa-magnifying-glass fa-lg cursor-pointer"))}function ht(s,c){if(1&s&&t._UZ(0,"app-custom-label1",16),2&s){const e=t.oxw(3);t.Tol(""),t.Q6J("id","")("label","Raz\xf3n")("text",e.personaC.razon)}}function ft(s,c){if(1&s&&t._UZ(0,"app-custom-label1",16),2&s){const e=t.oxw(3);t.Tol(""),t.Q6J("id","")("label","NIT")("text",e.personaC.nit)}}function bt(s,c){if(1&s&&(t.TgZ(0,"div",39)(1,"div",26),t._UZ(2,"app-custom-sub-title",19),t.YNc(3,mt,1,3,"app-custom-icon",40),t.qZA(),t.TgZ(4,"div",20),t._UZ(5,"app-custom-label1",16)(6,"app-custom-label1",16)(7,"app-custom-label1",16),t.YNc(8,ht,1,5,"app-custom-label1",41),t.YNc(9,ft,1,5,"app-custom-label1",41),t.qZA()()),2&s){const e=t.oxw(2);t.xp6(2),t.Tol(""),t.Q6J("id","")("label","Datos del Cliente"),t.xp6(1),t.Q6J("ngIf","agregar"==e.typeRecive),t.xp6(2),t.Tol(""),t.Q6J("id","")("label","Nombre")("text",e.personaC.nombre_persona),t.xp6(1),t.Tol(""),t.Q6J("id","")("label","Email")("text",e.personaC.email),t.xp6(1),t.Tol(""),t.Q6J("id","")("label","Celular")("text",e.personaC.celular),t.xp6(1),t.Q6J("ngIf",0==e.personaC.id_empresa),t.xp6(1),t.Q6J("ngIf",0==e.personaC.id_empresa)}}function gt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-icon",42),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.onClickBusquedaCliente())}),t.qZA()}2&s&&(t.Tol("h-full text-color-icon-2 hover:bg-primary-100 rounded"),t.Q6J("icon","fa-solid fa-magnifying-glass fa-lg cursor-pointer"))}function vt(s,c){if(1&s&&(t.TgZ(0,"div",39)(1,"div",26),t._UZ(2,"app-custom-sub-title",19),t.YNc(3,gt,1,3,"app-custom-icon",40),t.qZA(),t.TgZ(4,"div",20),t._UZ(5,"app-custom-label1",16)(6,"app-custom-label1",16)(7,"app-custom-label1",16)(8,"app-custom-label1",16)(9,"app-custom-label1",16)(10,"app-custom-label1",16),t.qZA()()),2&s){const e=t.oxw(2);t.xp6(2),t.Tol(""),t.Q6J("id","")("label","Datos de la Empresa"),t.xp6(1),t.Q6J("ngIf","agregar"==e.typeRecive),t.xp6(2),t.Tol(""),t.Q6J("id","")("label","Empresa")("text",e.empresaC.razon_social),t.xp6(1),t.Tol(""),t.Q6J("id","")("label","NIT")("text",e.empresaC.nit),t.xp6(1),t.Tol(""),t.Q6J("id","")("label","Direcci\xf3n")("text",e.empresaC.direccion),t.xp6(1),t.Tol(""),t.Q6J("id","")("label","Tel\xe9fono")("text",e.empresaC.telefono),t.xp6(1),t.Tol(""),t.Q6J("id","")("label","Web")("text",e.empresaC.web),t.xp6(1),t.Tol(""),t.Q6J("id","")("label","Lugar")("text",e.empresaC.pais+" - "+e.empresaC.ciudad)}}function xt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"input",51),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(),r=i.index,_=i.$implicit,m=t.oxw(2);return t.KtG(m.setValueCheckBox(r,_.boolean))}),t.qZA()}if(2&s){const e=t.oxw().$implicit;t.Q6J("checked",e.boolean)}}function Ct(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div",52)(1,"p",53),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,r=t.oxw(2);return t.KtG(r.onClickEditarCosto("Costo",i,"number"))}),t._uU(2," Editar Costo "),t.qZA()()}}const Z=function(s){return{"cursor-pointer":s}};function St(s,c){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",43)(2,"th",44),t.YNc(3,xt,1,1,"input",45),t.qZA(),t.TgZ(4,"th",44),t._uU(5),t.qZA(),t.TgZ(6,"th",46),t._uU(7),t.qZA(),t.TgZ(8,"td",47),t._uU(9),t.qZA(),t.TgZ(10,"td",47)(11,"p",48),t.NdJ("click",function(){const r=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.onClickEditarCosto("Observaci\xf3n",r,"text"))}),t._uU(12),t.qZA()(),t.TgZ(13,"td",49),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.TgZ(16,"td",49),t.YNc(17,Ct,3,0,"div",50),t.qZA()(),t.BQk()}if(2&s){const e=c.$implicit,o=c.index,i=t.oxw(2);t.xp6(3),t.Q6J("ngIf","agregar"==i.typeRecive),t.xp6(2),t.hij(" ",o+1," "),t.xp6(2),t.hij(" ",e.sub_servicio.nombre," "),t.xp6(2),t.hij(" ",e.sub_servicio.descripcion," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,Z,"agregar"==i.typeRecive)),t.xp6(1),t.hij(" ",e.sub_servicio.observacion," "),t.xp6(2),t.hij(" ",t.Dn7(15,8,e.sub_servicio.costo_sub_servicio,"BOB","Bs. ")," "),t.xp6(3),t.Q6J("ngIf","agregar"==i.typeRecive)}}function yt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-button",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onClickAgregarCotizacion())}),t.qZA()}if(2&s){const e=t.oxw(2);t.Tol(""),t.Q6J("id","id_btn_guardar")("label","Guardar")("type","accept")("icon","")("valid",e.formCotizacion.valid)}}function Tt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-button",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onClickPDF("imprimir"))}),t.qZA()}2&s&&(t.Tol(""),t.Q6J("id","id_btn_imprimir")("label","Imprimir")("type","accept")("icon","")("valid",!0))}function wt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-button",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onClickPDF("descargar"))}),t.qZA()}2&s&&(t.Tol(""),t.Q6J("id","id_btn_imprimir")("label","Descargar")("type","accept")("icon","")("valid",!0))}function At(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-button",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onClickActualizar())}),t.qZA()}2&s&&(t.Tol(""),t.Q6J("id","id_btn_actualiazr")("label","Actualizar")("type","cancel")("icon","")("valid",!0))}function zt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"form",11),t._UZ(1,"app-custom-title",12)(2,"br"),t.TgZ(3,"div",13)(4,"app-custom-label1",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onClickShowFechaSelect("Solicitud","Fecha Solicitud"))}),t.qZA(),t.TgZ(5,"app-custom-label1",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onClickShowFechaSelect("Emision","Fecha Emisi\xf3n"))}),t.qZA(),t._UZ(6,"div",15)(7,"app-custom-label1",16),t.qZA(),t.TgZ(8,"div",17)(9,"div",18),t._UZ(10,"app-custom-sub-title",19),t.qZA(),t.TgZ(11,"div",20),t._UZ(12,"app-custom-label1",16)(13,"app-custom-label1",16)(14,"app-custom-label1",16),t.qZA()(),t.TgZ(15,"div",21),t.YNc(16,bt,10,22,"div",22),t.YNc(17,vt,11,35,"div",22),t.qZA(),t.TgZ(18,"div",13),t._UZ(19,"app-custom-input",23),t.TgZ(20,"app-custom-input",24),t.NdJ("input",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onChange(i))}),t.qZA()(),t.TgZ(21,"div",25)(22,"div",26),t._UZ(23,"app-custom-sub-title",19),t.qZA(),t.TgZ(24,"div",27)(25,"table",28)(26,"thead",29)(27,"tr"),t._UZ(28,"th",30),t.TgZ(29,"th",30),t._uU(30," # "),t.qZA(),t.TgZ(31,"th",31),t._uU(32," Nombre "),t.qZA(),t.TgZ(33,"th",31),t._uU(34," descripci\xf3n "),t.qZA(),t.TgZ(35,"th",31),t._uU(36," observaci\xf3n "),t.qZA(),t.TgZ(37,"th",32),t._uU(38," Costo "),t.qZA(),t._UZ(39,"th",32),t.qZA()(),t.TgZ(40,"tbody"),t.YNc(41,St,18,14,"ng-container",33),t.qZA()()()(),t.TgZ(42,"div",34)(43,"div",35),t._UZ(44,"app-custom-label0",16),t.ALo(45,"currency"),t.TgZ(46,"app-custom-label0",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onClickDescuento("Descuento"))}),t.ALo(47,"currency"),t.qZA(),t._UZ(48,"app-custom-label0",16),t.ALo(49,"currency"),t.qZA()(),t.TgZ(50,"div",36),t.YNc(51,yt,1,7,"app-custom-button",37),t.TgZ(52,"app-custom-button",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onClickCancel())}),t.qZA(),t.YNc(53,Tt,1,7,"app-custom-button",37),t.YNc(54,wt,1,7,"app-custom-button",37),t.YNc(55,At,1,7,"app-custom-button",37),t.qZA()()}if(2&s){const e=t.oxw();t.xp6(1),t.Tol("uppercase w-full h-full text-3xl"),t.Q6J("id","id_titlte")("label","FORMULARIO DE COTIZACI\xd3N DE SERVICIOS"),t.xp6(3),t.Q6J("ngClass",t.VKq(96,Z,"ver"!=e.typeRecive))("id","id_label_fecha_solicitud")("label","Fecha Solicitud")("text",e.transformFecha("Solicitud")),t.xp6(1),t.Q6J("ngClass",t.VKq(98,Z,"ver"!=e.typeRecive))("id","id_label_fecha_emision")("label","Fecha Emisi\xf3n")("text",e.transformFecha("Emision")),t.xp6(2),t.Q6J("id","")("label","C\xf3digo de cotizaci\xf3n")("text",e.formCotizacion.controls.cod_cotizacion.value),t.xp6(3),t.Tol(""),t.Q6J("id","")("label","Datos del T\xe9cnico"),t.xp6(2),t.Tol(""),t.Q6J("id","")("label","T\xe9cnico")("text",e.tecnicoUser.nombres+" "+e.tecnicoUser.apellidos),t.xp6(1),t.Tol(""),t.Q6J("id","")("label","Celular")("text",e.tecnicoUser.code+" "+e.tecnicoUser.celular),t.xp6(1),t.Tol(""),t.Q6J("id","")("label","Rol")("text",e.tecnicoUser.rol),t.xp6(2),t.Q6J("ngIf",0==e.personaC.id_empresa),t.xp6(1),t.Q6J("ngIf",0!=e.personaC.id_empresa),t.xp6(2),t.Tol(""),t.Q6J("id","id_observacion")("label","Observaciones")("type","text")("autocomplete","")("control",e.formCotizacion.controls.observacion)("icon",""),t.xp6(1),t.Tol(""),t.Q6J("id","id_costo")("label","Precio del Servicio")("type","number")("autocomplete","")("control",e.formCotizacion.controls.precio_servicio)("icon",""),t.xp6(3),t.Tol(""),t.Q6J("id","")("label",e.servicioSelected.nombre),t.xp6(18),t.Q6J("ngForOf",e.dataSubServicios),t.xp6(3),t.Tol("w-full"),t.Q6J("id","id_label_total_pagar")("label","Total Pagar")("text",t.Dn7(45,84,e.transformCostos("Total Pagar"),"BOB","Bs. ")),t.xp6(2),t.Tol("w-full"),t.Q6J("ngClass",t.VKq(100,Z,"agregar"==e.typeRecive))("id","id_label_descuento")("label","Descuento")("text",t.Dn7(47,88,e.transformCostos("Descuento"),"BOB","Bs. ")),t.xp6(2),t.Tol("w-full"),t.Q6J("id","id_label_costo_total")("label","Costo Total")("text",t.Dn7(49,92,e.transformCostos("Costo Total"),"BOB","Bs. ")),t.xp6(3),t.Q6J("ngIf","ver"!=e.typeRecive),t.xp6(1),t.Tol(""),t.Q6J("id","id_btn_cancelar")("label","ver"==e.typeRecive?"Cerrar":"Cancelar")("type","cancel")("icon","")("valid",!0),t.xp6(1),t.Q6J("ngIf","ver"==e.typeRecive),t.xp6(1),t.Q6J("ngIf","ver"==e.typeRecive),t.xp6(1),t.Q6J("ngIf","ver"==e.typeRecive)}}let M=(()=>{class s{constructor(e,o,i,r,_,m,f,C,k){this.router=e,this.servicioService=o,this.subServicioService=i,this.cotizacionGeneralService=r,this.cotizacionGeneralSubServicioService=_,this.personaService=m,this.usuarioService=f,this.cuentaService=C,this.toast=k,this.response=new t.vpe,this.dataLocalStorage={usuario:null,loggedDate:""},this.isLoading=!1,this.alertInfo=!1,this.alertConfirmacion=!1,this.alertError=!1,this.msgAlert="",this._ID_TIPO_SERVICIO=1,this.servicioSelected={id_servicio:0,nombre:"",descripcion:"",id_tipo_servicio:0,fec_crea:"",user_crea:"",fec_mod:"",user_mod:""},this.formEmpty=new a.cw({empty:new a.NI("")}),this.formCotizacion=new a.cw({cod_cotizacion:new a.NI("",[a.kI.required]),fec_solicitud:new a.NI(this.generatedFechaSolicitudHoy(),[a.kI.required]),fec_emision:new a.NI(""),id_servicio:new a.NI(0,[a.kI.required]),id_persona:new a.NI(0,[a.kI.required]),precio_servicio:new a.NI(0,[a.kI.required]),observacion:new a.NI(""),costo_total:new a.NI(0,[a.kI.required]),descuento:new a.NI(0,[a.kI.required]),total_pagar:new a.NI(0,[a.kI.required])}),this.typeDatePicker="",this.fechaNow=(0,p.p6)(new Date,"dd/MM/yyyy","es"),this.personaC={id_persona:0,nombre_persona:"",celular:"",email:"",razon:"",nit:"",id_empresa:0,fec_crea:"",user_crea:"",fec_mod:"",user_mod:""},this.empresaC={id_empresa:0,razon_social:"",direccion:"",telefono:"",web:"",ciudad:"",pais:"",nit:"",tipo:"",fec_crea:"",user_crea:"",fec_mod:"",user_mod:""},this.showBusqueda=!1,this.showBusquedaServicio=!1,this.showDatePicker=!1,this.showAlertDescuento=!1,this.labelDatePicker="",this.fechaSendDatePicker="",this.dataSubServicios=[],this.indexSubServicio=-1,this.typeAlertInput="",this.labelAlertInput="",this.iconlAlertInput="",this.alertInputType="",this.emitResponse=!1,this.objCotizacion={cod_cotizacion:"",fec_solicitud:"",fec_emision:"",id_servicio:0,id_persona:0,precio_servicio:0,observacion:"",costo_total:0,descuento:0,total_pagar:0,fec_crea:"",user_crea:"",fec_mod:"",user_mod:""},null!=(0,h.WX)()?(this.dataLocalStorage=(0,h.WX)(),null!=this.dataLocalStorage.usuario?(this.userLogeado=this.dataLocalStorage.usuario,this.tecnicoUser=this.userLogeado):((0,h.rr)(),(0,b.ni)(this.router))):((0,h.rr)(),(0,b.ni)(this.router))}ngOnInit(){switch((0,v.wQ)(),this.typeRecive){case"agregar":this.showBusqueda=!0;break;case"ver":this.formCotizacion.controls.cod_cotizacion.setValue(this.codeRecive),this.formCotizacion.controls.observacion.disable(),this.formCotizacion.controls.precio_servicio.disable(),this.getCotizacion();break;case"editar":this.formCotizacion.controls.cod_cotizacion.setValue(this.codeRecive),this.getCotizacion()}}generarCodCotizacion(e){this.formCotizacion.controls.cod_cotizacion.setValue("INGLAB-CTZ-GEN-"+(0,p.p6)(new Date,"ddMMYY","es")+"-"+e)}generatedFechaSolicitudHoy(){return(0,p.p6)(new Date,"yyyy-MM-dd","es")}transformFecha(e){switch(e){case"Solicitud":let o=String(this.formCotizacion.controls.fec_solicitud.value);return""!==o?(0,p.p6)(o,"dd/MM/yyyy","es"):"";case"Emision":let i=String(this.formCotizacion.controls.fec_emision.value);return""!==i?(0,p.p6)(i,"dd/MM/yyyy","es"):"";default:return""}}transformCostos(e){switch(e){case"Costo Total":return String(this.formCotizacion.controls.costo_total.value);case"Descuento":return String(this.formCotizacion.controls.descuento.value);case"Total Pagar":return String(this.formCotizacion.controls.total_pagar.value);default:return""}}actualizarCostos(){let e=0;for(let i=0;i<this.dataSubServicios.length;i++)this.dataSubServicios[i].boolean&&(e+=this.dataSubServicios[i].sub_servicio.costo_sub_servicio);if(e+=Number(this.formCotizacion.controls.precio_servicio.value),e>0){this.formCotizacion.controls.total_pagar.setValue(e);const i=Number(this.formCotizacion.controls.descuento.value);this.formCotizacion.controls.costo_total.setValue(e-i)}else this.formCotizacion.controls.total_pagar.setValue(e),this.formCotizacion.controls.costo_total.setValue(0)}onClickShowFechaSelect(e,o){if("ver"!==this.typeRecive){switch(this.typeDatePicker=e,this.labelDatePicker=o,e){case"Solicitud":this.fechaSendDatePicker=String(this.formCotizacion.controls.fec_solicitud.value);break;case"Emision":this.fechaSendDatePicker=String(this.formCotizacion.controls.fec_emision.value)}this.showDatePicker=!0}}onClickBusquedaCliente(){this.showBusqueda=!0}onClickEditarCosto(e,o,i){"agregar"===this.typeRecive&&(this.labelAlertInput=e,this.typeAlertInput=e,this.indexSubServicio=o,this.showAlertDescuento=!0,this.alertInputType=i)}setValueCheckBox(e,o){this.dataSubServicios[e].boolean=!o,this.actualizarCostos()}onClickDescuento(e){"agregar"===this.typeRecive&&(this.labelAlertInput="Descuento Bs.",this.typeAlertInput=e,this.showAlertDescuento=!0)}onChange(e){this.actualizarCostos()}onClickAgregarCotizacion(){this.formCotizacion.valid&&(this.isLoading=!0,"agregar"===this.typeRecive?this.agregarCotizacion():this.editarCotizacion())}onClickCancel(){this.response.emit(this.emitResponse)}onClickPDF(e){this.isLoading=!0,this.cuentaService.cuentaGet(this.servicioSelected?.id_servicio).subscribe(o=>{if(o.boolean){const i=o.data[0];this.isLoading=!1,this.goPdf(e,i)}else this.customErrorToast(o.message),this.isLoading=!1})}onClickActualizar(){this.typeRecive="Actualizar",this.formCotizacion.controls.observacion.enable()}getListaSubServicios(e){this.subServicioService.subServicioGetLista(e).subscribe(o=>{if(o.boolean)for(let i=0;i<o.data.length;i++){let r=o.data[i];const _={boolean:!1,sub_servicio:{cod_cotizacion:String(this.formCotizacion.controls.cod_cotizacion.value),id_sub_servicio:r.id_sub_servicio,costo_sub_servicio:0,observacion:"",nombre:r.nombre,descripcion:r.descripcion,fec_crea:"",user_crea:"",fec_mod:"",user_mod:""}};this.dataSubServicios.push(_)}else this.customErrorToast(o.message);this.getCotizacionNow()})}getCotizacionNow(){const e=(0,p.p6)(new Date,"YYYY-MM-dd","es");this.cotizacionGeneralService.cotizacionGetNow(e).subscribe(o=>{if(o.boolean){const i=o.data;this.generarCodCotizacion((0,w.PP)(i[i.length-1].cod_cotizacion))}else this.generarCodCotizacion("001")})}editarCotizacion(){const e={cod_cotizacion:String(this.formCotizacion.controls.cod_cotizacion.value),fec_solicitud:String(this.formCotizacion.controls.fec_solicitud.value),fec_emision:String(this.formCotizacion.controls.fec_emision.value),id_servicio:this.servicioSelected.id_servicio,id_persona:Number(this.formCotizacion.controls.id_persona.value),precio_servicio:Number(this.formCotizacion.controls.precio_servicio.value),observacion:String(this.formCotizacion.controls.observacion.value),costo_total:Number(this.formCotizacion.controls.costo_total.value),descuento:Number(this.formCotizacion.controls.descuento.value),total_pagar:Number(this.formCotizacion.controls.total_pagar.value),user_crea:this.userLogeado.user,user_mod:this.userLogeado.user};this.cotizacionGeneralService.cotizacionActualizar(e.cod_cotizacion,e).subscribe(o=>{o.boolean?(this.emitResponse=!0,this.customSuccessToast("Se agreg\xf3 correctamente!!!"),this.typeRecive="ver",this.formCotizacion.controls.observacion.disable(),this.objCotizacion.fec_emision=e.fec_emision,this.objCotizacion.observacion=e.observacion):this.customErrorToast(o.message),this.isLoading=!1})}agregarCotizacion(){const e={cod_cotizacion:String(this.formCotizacion.controls.cod_cotizacion.value),fec_solicitud:String(this.formCotizacion.controls.fec_solicitud.value),fec_emision:String(this.formCotizacion.controls.fec_emision.value),id_servicio:this.servicioSelected.id_servicio,id_persona:Number(this.formCotizacion.controls.id_persona.value),precio_servicio:Number(this.formCotizacion.controls.precio_servicio.value),observacion:String(this.formCotizacion.controls.observacion.value),costo_total:Number(this.formCotizacion.controls.costo_total.value),descuento:Number(this.formCotizacion.controls.descuento.value),total_pagar:Number(this.formCotizacion.controls.total_pagar.value),user_crea:this.userLogeado.user,user_mod:this.userLogeado.user};this.cotizacionGeneralService.cotizacionRegistro(e).subscribe(o=>{o.boolean?(this.objCotizacion=o.data[0],this.agregarSubServicios()):(this.customErrorToast(o.message),this.isLoading=!1)})}agregarSubServicios(){let e=[];for(let o=0;o<this.dataSubServicios.length;o++)if(this.dataSubServicios[o].boolean){const i={cod_cotizacion:String(this.formCotizacion.controls.cod_cotizacion.value),id_sub_servicio:this.dataSubServicios[o].sub_servicio.id_sub_servicio,costo_sub_servicio:this.dataSubServicios[o].sub_servicio.costo_sub_servicio,observacion:this.dataSubServicios[o].sub_servicio.observacion,user_crea:this.userLogeado.user,user_mod:this.userLogeado.user};e.push(i)}this.cotizacionGeneralSubServicioService.cotizacionSubServicioAdd(e).subscribe(o=>{o.boolean?(this.emitResponse=!0,this.isLoading=!1,this.customSuccessToast("Se agreg\xf3 correctamente!!!"),this.typeRecive="ver"):this.customErrorToast(o.message),this.isLoading=!1})}getCotizacion(){this.isLoading=!0,this.cotizacionGeneralService.cotizacionGet(this.codeRecive).subscribe(e=>{if(e.rows>0){const o=e.data[0];this.formCotizacion.controls.cod_cotizacion.setValue(o.cod_cotizacion),this.formCotizacion.controls.fec_solicitud.setValue(o.fec_solicitud),this.formCotizacion.controls.fec_emision.setValue(o.fec_emision),this.formCotizacion.controls.id_servicio.setValue(o.id_servicio),this.formCotizacion.controls.id_persona.setValue(o.id_persona),this.formCotizacion.controls.precio_servicio.setValue(o.precio_servicio),this.formCotizacion.controls.observacion.setValue(o.observacion),this.formCotizacion.controls.costo_total.setValue(o.costo_total),this.formCotizacion.controls.descuento.setValue(o.descuento),this.formCotizacion.controls.total_pagar.setValue(o.total_pagar),this.objCotizacion=o,this.getTecnico(o.user_crea)}})}getTecnico(e){this.usuarioService.usuarioGetUser(e).subscribe(o=>{o.boolean?(this.tecnicoUser=o.data[0],this.getCliente()):this.customErrorToast(o.message)})}getCliente(){this.personaService.personaBusquedaID(Number(this.formCotizacion.controls.id_persona.value)).subscribe(e=>{if(e.rows>0){const o=e.data[0];this.personaC=o,0!==this.personaC.id_persona&&(this.empresaC=o.id_empresa),this.getServicio()}})}getServicio(){this.servicioService.servicioGetByID(Number(this.formCotizacion.controls.id_servicio.value)).subscribe(e=>{e.boolean&&(this.servicioSelected=e.data[0]),this.getSubServiciosCotizacion()})}getSubServiciosCotizacion(){this.cotizacionGeneralSubServicioService.cotizacionSubServicioGet(this.codeRecive).subscribe(e=>{if(e.rows>0)for(let o=0;o<e.data.length;o++){let i=e.data[o];this.dataSubServicios.push({boolean:!0,sub_servicio:{cod_cotizacion:i.cod_cotizacion,id_sub_servicio:i.id_sub_servicio,costo_sub_servicio:i.costo_sub_servicio,observacion:i.observacion,nombre:i.sub_servicio.nombre,descripcion:i.sub_servicio.descripcion,fec_crea:i.fec_crea,user_crea:i.user_crea,fec_mod:i.fec_mod,user_mod:i.user_mod}})}this.isLoading=!1})}busquedaClienteResponse(e){null===e?0===this.personaC.id_persona?this.response.emit(!1):this.showBusqueda=!1:(this.personaC=e,this.formCotizacion.controls.id_persona.setValue(this.personaC.id_persona),0===this.personaC.id_empresa||(this.empresaC=this.personaC.id_empresa),this.showBusqueda=!1,0===this.servicioSelected.id_servicio&&(this.showBusquedaServicio=!0))}servicioSelectResponse(e){if(null!==e){const o=e;this.servicioSelected=o,this.formCotizacion.controls.id_servicio.setValue(o.id_servicio),this.getListaSubServicios(o.id_servicio),this.showBusquedaServicio=!1}else this.response.emit(!1)}fechaSelectResponse(e){switch(this.typeDatePicker){case"Solicitud":this.formCotizacion.controls.fec_solicitud.setValue(e);break;case"Emision":this.formCotizacion.controls.fec_emision.setValue(e)}this.showDatePicker=!1}inputDescuentoResponse(e){switch(this.typeAlertInput){case"Descuento":e.bool&&(this.formCotizacion.controls.descuento.setValue(e.data),this.actualizarCostos());break;case"Costo":e.bool&&(this.dataSubServicios[this.indexSubServicio].boolean=Number(e.data)>0,this.dataSubServicios[this.indexSubServicio].sub_servicio.costo_sub_servicio=e.data,this.actualizarCostos());break;case"Observaci\xf3n":e.bool&&(this.dataSubServicios[this.indexSubServicio].sub_servicio.observacion=e.data)}this.showAlertDescuento=!1}customSuccessToast(e){this.toast.success(e,{duration:2e3,style:{border:"1px solid #2e798c",padding:"16px",color:"#2b6273"},iconTheme:{primary:"#3494a6",secondary:"#FFFAEE"}})}customErrorToast(e){this.toast.error(e,{duration:2e3,style:{border:"1px solid #ef445f",padding:"16px",color:"#ef445f"},iconTheme:{primary:"#ef445f",secondary:"#FFFAEE"}})}customLoadingToast(e){this.toast.loading(e,{duration:1e4,style:{border:"1px solid #2b59c3",padding:"16px",color:"#2b59c3"},iconTheme:{primary:"#2b59c3",secondary:"#FFFAEE"}})}convertDate(e){try{return(0,p.p6)(e,"dd/MM/yyyy","es")}catch{return""}}goPdf(e,o){let i=[];for(let m=0;m<this.dataSubServicios.length;m++){const f=this.dataSubServicios[m];f.boolean&&i.push({nombre:f.sub_servicio.nombre,descripcion:f.sub_servicio.descripcion,observacion:f.sub_servicio.observacion,costo:f.sub_servicio.costo_sub_servicio})}let r=[];r.push([{text:"Nro",style:"titletable"},{text:"SERVICIO",style:"titletable"},{text:"DESCRIPCI\xd3N",style:"titletable"},{text:"OBSERVACI\xd3N",style:"titletable"},{text:"COSTO BS.",style:"titletable"}]),this.objCotizacion.precio_servicio>0&&r.push([{text:0,style:"texttable"},{text:"Precio del Servicio",style:"texttable"},{text:"",style:"texttable"},{text:"",style:"texttable"},{text:this.objCotizacion.precio_servicio,style:"texttable"}]);for(let m=0;m<i.length;m++){const f=i[m];r.push([{text:m+1,style:"texttable"},{text:f.nombre,style:"texttable"},{text:f.descripcion,style:"texttable"},{text:f.observacion,style:"texttable"},{text:f.costo,style:"texttable"}])}let _=String(this.servicioSelected.nombre);!function Y(s,c,e,o,i,r){let _="",m="",f="",C="";if(0===e.id_empresa)_=e.razon;else{const n=e.id_empresa;_=n.razon_social,m=n.direccion,f=n.ciudad,C=n.telefono}var k={pageSize:"Letter",content:[{text:"COTIZACI\xd3N SERVICIOS",style:"header"},{text:"\n\n"},{columns:[{table:{widths:["auto","auto","*"],body:[[{border:[!1],text:"Fecha Solicitud",style:"title"},{border:[!1],text:":",style:"title"},{border:[!1],text:R(c.fec_solicitud),style:"text"}],[{border:[!1],text:"Fecha Emisi\xf3n",style:"title"},{border:[!1],text:":",style:"title"},{border:[!1],text:R(c.fec_emision),style:"text"}]]}},{table:{widths:["auto","auto","*"],body:[[{border:[!1],text:"C\xf3digo CTZ",style:"title"},{border:[!1],text:":",style:"title"},{border:[!1],text:c.cod_cotizacion,style:"text"}],[{border:[!1],text:"\xc1rea",style:"title"},{border:[!1],text:":",style:"title"},{border:[!1],text:"Laboratorio FRX",style:"text"}]]}}]},{text:"\n"},{table:{widths:[100,"*",70,"*"],borders:[!1],layout:"noBorders",body:[[{columns:[{text:"CLIENTE",style:"title",width:"*"},{text:":",style:"title",alignment:"right",width:"*"}],margin:[0,0,0,2]},{border:[!1,!1,!1,!0],text:_,style:"text",colSpan:3},{},{}],[{columns:[{text:"DIRECCI\xd3N",style:"title",width:"*"},{text:":",style:"title",alignment:"right",width:"auto"}],margin:[0,0,0,2]},{border:[!1,!1,!1,!0],text:m,style:"text"},{columns:[{text:"CIUDAD",style:"title",width:"*"},{text:":",style:"title",alignment:"right",width:"auto"}]},{border:[!1,!1,!1,!0],text:f,style:"text"}],[{columns:[{text:"CONTACTO",style:"title",width:"*"},{text:":",style:"title",alignment:"right",width:"auto"}],margin:[0,0,0,2]},{border:[!1,!1,!1,!0],text:e.nombre_persona,style:"text"},{columns:[{text:"CELULAR",style:"title",width:"*"},{text:":",style:"title",alignment:"right",width:"auto"}]},{border:[!1,!1,!1,!0],text:e.celular,style:"text"}],[{columns:[{text:"CORREO ELECT.",style:"title",width:"*"},{text:":",style:"title",alignment:"right",width:"auto"}],margin:[0,0,0,2]},{border:[!1,!1,!1,!0],text:e.email,style:"text"},{columns:[{text:"TEL\xc9FONO",style:"title",width:"*"},{text:":",style:"title",alignment:"right",width:"auto"}]},{border:[!1,!1,!1,!0],text:C,style:"text"}],[{columns:[{text:"SERVICIO",style:"title",width:"*"},{text:":",style:"title",alignment:"right",width:"auto"}],margin:[0,0,0,2]},{border:[!1,!1,!1,!0],text:o,style:"text",colSpan:3},{},{}],[{columns:[{text:"OBSERVACIONES",style:"title",width:"*"},{text:":",style:"title",alignment:"right",width:"auto"}],margin:[0,0,0,2]},{border:[!1,!1,!1,!0],text:c.observacion,style:"text",colSpan:3},{},{}]]},layout:{defaultBorder:!1,hLineWidth:function(n,d){return.1},vLineWidth:function(n,d){return.1},hLineColor:function(n,d){return u},vLineColor:function(n,d){return u}}},{text:"DETALLE",alignment:"center",style:"title",margin:[0,10,0,10]},{table:{fontSize:8,margin:[0,0,0,0],widths:["auto","auto","auto","*","auto"],body:i},layout:{defaultBorder:!0,hLineWidth:function(n,d){return.1},vLineWidth:function(n,d){return.1},hLineColor:function(n,d){return u},vLineColor:function(n,d){return u}}},{columns:[{margin:[0,0,0,10],text:[{text:""}]},{margin:[0,15,0,0],width:"auto",table:{widths:["auto","auto","*"],body:[[{borderColor:u,border:[!0,!0,!1,!0],margin:[7,2,7,2],alignment:"left",bold:!0,text:"Total a Pagar"},{borderColor:u,border:[!1,!0,!1,!0],margin:[7,2,7,2],alignment:"left",bold:!0,text:":"},{borderColor:u,border:[!1,!0,!0,!0],margin:[7,2,7,2],alignment:"right",text:"Bs. "+c.total_pagar}],[{borderColor:u,border:[!0,!0,!1,!0],margin:[7,2,7,2],alignment:"left",bold:!0,text:"Descuento"},{borderColor:u,border:[!1,!0,!1,!0],margin:[7,2,7,2],alignment:"left",bold:!0,text:":"},{borderColor:u,border:[!1,!0,!0,!0],margin:[7,2,7,2],alignment:"right",text:"Bs. "+c.descuento}],[{borderColor:u,border:[!0,!0,!1,!0],margin:[7,2,7,2],alignment:"left",bold:!0,text:"Costo Total"},{borderColor:u,border:[!1,!0,!1,!0],margin:[7,2,7,2],alignment:"left",bold:!0,text:":"},{borderColor:u,border:[!1,!0,!0,!0],margin:[7,2,7,2],alignment:"right",text:"Bs. "+c.costo_total}]]},layout:{defaultBorder:!0,hLineWidth:function(n,d){return.1},vLineWidth:function(n,d){return.1},hLineColor:function(n,d){return u},vLineColor:function(n,d){return u}},color:u,fontSize:10}],margin:[0,0,0,0]}],footer:(n,d)=>n===d?{margin:[40,-120,40,0],stack:[{text:"CONDICIONES DEL SERVICIO",alignment:"left",characterSpacing:.5,fontSize:9,bold:!0,margin:[0,10,0,-5]},{text:[{text:"PAGO. ",bold:!0},{text:"Previo entrega de informe de resultados."},{text:"VALIDEZ PROPUESTA DE SERVICIO. ",bold:!0},{text:"Esta cotizacion tiene una validez de 30 dias calendario."},{text:"MODALIDAD DE PAGO. ",bold:!0},{text:"Cuenta bancaria N\xba "},{text:r.nro_cuenta,bold:!0,color:"red"},{text:" del Banco "},{text:r.banco,bold:!0,color:"red"},{text:" a nombre de "},{text:r.a_nombre,bold:!0,color:"red"},{text:" , qr,  cheque y/o en efectivo."},{text:"\n"},{text:"Los precios del (los) servicios incluyen impuestos de ley.",fontSize:9}],fontSize:8,margin:[0,10,0,5]},{text:[{text:"REQUISITOS MINIMOS MUESTRA. ",bold:!0},{text:"Analisis mediante FRX,  muestra mayor a 1 g y espesor mayor a 0,5 mm (joyas, aleaciones, metal dore, metalicos)."},{text:"\n"},{text:"ENTREGA DE RESULTADOS. ",bold:!0},{text:"El tiempo de entrega del informe de resultados es de hasta 2 dias habiles."}],fontSize:8,margin:[0,10,0,5]},{text:[{text:"CONSULTAS Y/O DUDAS. ",bold:!0},{text:"\n"},{text:"Jefe de laboratorio: Ing. Cristhian Aliaga, correo electronico: "},{text:"laboratorio@ingenialab.com.bo",bold:!0}],fontSize:8,margin:[0,10,0,5]},{text:`P\xe1gina ${n} de ${d}`,alignment:"center",margin:[0,10,0,20],fontSize:8}]}:{margin:[40,0,40,20],columns:[{text:`P\xe1gina ${n} de ${d}`,alignment:"center"}]},pageMargins:[40,60],styles:{header:{width:"100",characterSpacing:1,fontSize:12,bold:!0,alignment:"center",color:u},title:{characterSpacing:.5,fontSize:10,bold:!0,color:u},titletable:{characterSpacing:.5,fontSize:10,bold:!0,alignment:"center",color:u},texttable:{characterSpacing:.5,fontSize:10,alignment:"center",color:u},text:{characterSpacing:.5,fontSize:10,color:u}}};switch(s){case"descargar":F.createPdf(k).download(c.cod_cotizacion+".pdf");break;case"imprimir":F.createPdf(k).open()}}(e,this.objCotizacion,this.personaC,_,r,o)}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(g.F0),t.Y36(L),t.Y36(Q),t.Y36(q),t.Y36(P),t.Y36(j.J),t.Y36(K.i),t.Y36(H.J),t.Y36(A.jE))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-cotizacion"]],inputs:{typeRecive:"typeRecive",codeRecive:"codeRecive"},outputs:{response:"response"},decls:7,vars:6,consts:[[1,"w-full","h-full"],[3,"id","title","label","type","class","icon","onResponse",4,"ngIf"],["class","w-full h-full",3,"type","response",4,"ngIf"],["class","w-full h-full",3,"response",4,"ngIf"],[3,"label","fecha","type","response",4,"ngIf"],[4,"ngIf"],["class","flex flex-col gap-4 w-full h-max overflow-auto",4,"ngIf"],[3,"id","title","label","type","icon","onResponse"],[1,"w-full","h-full",3,"type","response"],[1,"w-full","h-full",3,"response"],[3,"label","fecha","type","response"],[1,"flex","flex-col","gap-4","w-full","h-max","overflow-auto"],[1,"w-full","text-center",3,"id","label"],[1,"flex","gap-4"],[3,"ngClass","id","label","text","click"],[1,"flex-grow"],[3,"id","label","text"],[1,"flex","flex-col","border","border-dashed","border-color-text","rounded-lg","w-full","h-max","p-2"],[1,"flex","w-full","mb-2"],[3,"id","label"],[1,"flex","gap-4","flex-wrap"],[1,"w-full","flex","gap-4"],["class","flex flex-col border border-dashed border-color-text rounded-lg w-full h-full p-2",4,"ngIf"],[1,"w-full",3,"id","label","type","autocomplete","control","icon"],[3,"id","label","type","autocomplete","control","icon","input"],[1,"flex","flex-col","border","border-dashed","border-color-text","rounded-lg","w-full","p-2"],[1,"flex","gap-4","w-full","mb-2"],[1,"w-full","h-max"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","border","shadow-lg"],[1,"text-xs","text-color-text","uppercase","bg-primary-100"],["scope","col",1,"px-2","py-2","text-center",2,"width","2%"],["scope","col",1,"px-2","py-2",2,"width","fit-content"],["scope","col",1,"px-2","py-2","w-max","text-center"],[4,"ngFor","ngForOf"],[1,"flex","gap-4","flex-row-reverse"],[1,"flex","flex-col","gap-2","w-max"],[1,"flex","gap-4","w-full"],[3,"id","label","type","icon","class","valid","click",4,"ngIf"],[3,"id","label","type","icon","valid","click"],[1,"flex","flex-col","border","border-dashed","border-color-text","rounded-lg","w-full","h-full","p-2"],[3,"icon","class","click",4,"ngIf"],[3,"id","label","text","class",4,"ngIf"],[3,"icon","click"],["fragment","",1,"bg-white","border-y"],[1,"px-2","py-2","font-medium","text-gray-900","text-center"],["type","checkbox","name","checkbox",3,"checked","click",4,"ngIf"],[1,"px-2","py-2","font-medium","text-gray-900"],[1,"px-2","py-2"],[1,"border","py-2","px-4","rounded",3,"ngClass","click"],[1,"px-2","py-2","text-center"],["class","flex justify-around gap-4",4,"ngIf"],["type","checkbox","name","checkbox",3,"checked","click"],[1,"flex","justify-around","gap-4"],[1,"cursor-pointer","underline","underline-offset-2","text-color-info",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.YNc(1,lt,1,7,"app-custom-alert-input",1),t.YNc(2,ut,1,1,"app-custom-alert-search",2),t.YNc(3,dt,1,0,"app-custom-alert-search-servicio",3),t.YNc(4,pt,1,3,"app-custom-alert-date-picker",4),t.YNc(5,_t,1,0,"app-custom-loading",5),t.YNc(6,zt,56,102,"form",6),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",i.showAlertDescuento),t.xp6(1),t.Q6J("ngIf",i.showBusqueda),t.xp6(1),t.Q6J("ngIf",i.showBusquedaServicio),t.xp6(1),t.Q6J("ngIf",i.showDatePicker),t.xp6(1),t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("ngIf",!(i.isLoading||i.showBusqueda||i.showDatePicker||i.showBusquedaServicio||i.showAlertDescuento)))},dependencies:[p.mk,p.sg,p.O5,X.B,W.S,$.r,rt,x.x,I.l,T.O,ct.A,at.y,z.m,E._,nt.M,a._Y,a.JL,a.F,p.H9]})}return s})();function Zt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-cotizacion",4),t.NdJ("response",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.cotizacionGeneralResponse(i))}),t.qZA()}if(2&s){const e=t.oxw();t.Q6J("typeRecive",e.showFormularioFRX)("codeRecive",e.codeFormularioFRX)}}function kt(s,c){1&s&&t._UZ(0,"app-custom-loading")}function It(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"tr",24),t.NdJ("click",function(){const r=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.onClickListaElement(r))}),t.TgZ(1,"td",25),t._uU(2),t.qZA(),t.TgZ(3,"td",25),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",25),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td",25),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"td",25),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.TgZ(15,"td",25),t._uU(16),t.ALo(17,"currency"),t.qZA(),t.TgZ(18,"td",25)(19,"p",26),t.NdJ("click",function(){const r=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.onClickActulizar(r))}),t._uU(20,"Actualizar"),t.qZA()()()}if(2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e.cod_cotizacion),t.xp6(2),t.Oqu(t.xi3(5,6,e.fec_solicitud,"dd-MM-yyyy")),t.xp6(3),t.Oqu(t.xi3(8,9,e.fec_emision,"dd-MM-yyyy")),t.xp6(3),t.Oqu(t.Dn7(11,12,e.total_pagar,"BOB","Bs. ")),t.xp6(3),t.hij("",t.Dn7(14,16,e.descuento,"BOB","Bs. ")," "),t.xp6(3),t.Oqu(t.Dn7(17,20,e.costo_total,"BOB","Bs. "))}}const Ft=function(s,c){return{"text-dark-600 bg-dark-50":s,"text-dark-500 bg-white cursor-pointer":c}};function Lt(s,c){if(1&s&&(t.TgZ(0,"ul",27)(1,"li")(2,"a",28),t._uU(3),t.qZA()()()),2&s){const e=c.$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngClass",t.WLB(2,Ft,e==o.posPaginacion,e!=o.posPaginacion)),t.xp6(1),t.Oqu(e)}}const D=function(s){return{"cursor-pointer":s}};function Et(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"form",8),t._UZ(4,"app-custom-drop-box",9)(5,"app-custom-input",10),t.TgZ(6,"app-custom-icon",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onClickBusqueda())}),t.qZA()()(),t.TgZ(7,"app-custom-button",12),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onClickAgregar())}),t.qZA()(),t.TgZ(8,"div",13)(9,"div",14)(10,"table",15)(11,"thead",16)(12,"tr")(13,"th",17),t._uU(14," C\xf3digo Cotizaci\xf3n "),t.qZA(),t.TgZ(15,"th",17),t._uU(16," Fecha Solicitud "),t.qZA(),t.TgZ(17,"th",17),t._uU(18," Fecha Emisi\xf3n "),t.qZA(),t.TgZ(19,"th",17),t._uU(20," Total Pagar "),t.qZA(),t.TgZ(21,"th",17),t._uU(22," Descuento "),t.qZA(),t.TgZ(23,"th",17),t._uU(24," Costo Total "),t.qZA(),t._UZ(25,"th",17),t.qZA()(),t.TgZ(26,"tbody"),t.YNc(27,It,21,24,"tr",18),t.qZA()()(),t.TgZ(28,"nav",19)(29,"div",20)(30,"a",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.anteriorLista())}),t._uU(31,"Anterior"),t.qZA(),t.YNc(32,Lt,4,5,"ul",22),t.TgZ(33,"a",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.siguienteLista())}),t._uU(34,"Siguiente"),t.qZA()()()()()}if(2&s){const e=t.oxw();t.xp6(3),t.Q6J("formGroup",e.formBusqueda),t.xp6(1),t.Tol("w-max"),t.Q6J("id","id_pregunta")("label","B\xfasqueda...")("control",e.formBusqueda.controls.busqueda)("data",e.dataBusquedaCotizacion),t.xp6(1),t.Tol("w-full flex-grow"),t.Q6J("id","id_busqueda_value")("label","B\xfasqueda...")("type","text")("autocomplete","")("control",e.formBusqueda.controls.value)("icon",""),t.xp6(1),t.Tol("h-full "),t.Q6J("icon","fa-solid fa-magnifying-glass fa-xl align-bottom cursor-pointer"),t.xp6(1),t.Tol("h-full"),t.Q6J("label","Nueva Cotizaci\xf3n")("type","accept")("icon","")("valid",e.formBusqueda.valid),t.xp6(20),t.Q6J("ngForOf",e.dataCotizacion),t.xp6(3),t.Q6J("ngClass",t.VKq(28,D,e.posPaginacion>1)),t.xp6(2),t.Q6J("ngForOf",e.paginationArray),t.xp6(1),t.Q6J("ngClass",t.VKq(30,D,e.posPaginacion<e.paginationArray.length))}}let Jt=(()=>{class s{constructor(e,o,i){this.router=e,this.cotizacionGeneralService=o,this.toast=i,this.dataLocalStorage={usuario:null,loggedDate:""},this.isLoading=!0,this.alertInfo=!1,this.alertConfirmacion=!1,this.alertError=!1,this.msgAlert="",this.formBusqueda=new a.cw({busqueda:new a.NI("cod_cotizacion",[]),value:new a.NI("",[])}),this.dataBusquedaCotizacion=N.jt,this.dataCotizacion=[],this.paginationArray=[],this.showAgregar=!1,this.showFormularioFRX="",this.codeFormularioFRX="",null!=(0,h.WX)()?(this.dataLocalStorage=(0,h.WX)(),null!=this.dataLocalStorage.usuario?this.userLogeado=this.dataLocalStorage.usuario:((0,h.rr)(),(0,b.ni)(this.router))):((0,h.rr)(),(0,b.ni)(this.router))}ngOnInit(){(0,v.wQ)(),this.getListaCotizacionGeneral()}showListaNext(e){this.posPaginacion=e;let i=10*e-10,r=0;for(r=i+9<=this.dataCotizacion.length-1?i+9:this.dataCotizacion.length-1,this.dataCotizacion=[];i<=r;)this.dataCotizacion.push(this.dataCotizacion[i]),i++}anteriorLista(){this.posPaginacion-1>0&&this.showListaNext(this.posPaginacion-1)}siguienteLista(){this.posPaginacion+1<=this.paginationArray.length&&this.showListaNext(this.posPaginacion+1)}onClickBusqueda(){}onClickAgregar(){this.showFormularioFRX="agregar",this.showAgregar=!0}onClickListaElement(e){this.showFormularioFRX="ver",this.codeFormularioFRX=this.dataCotizacion[e].cod_cotizacion,this.showAgregar=!0}onClickActulizar(e){this.showFormularioFRX="editar",this.codeFormularioFRX=this.dataCotizacion[e].cod_cotizacion,this.showAgregar=!0}getListaCotizacionGeneral(){this.dataCotizacion=[],this.cotizacionGeneralService.cotizacionGetLista().subscribe(e=>{e.rows>0?this.dataCotizacion=e.data:this.customErrorToast(e.message),this.isLoading=!1})}cotizacionGeneralResponse(e){e&&(this.isLoading=!0,this.getListaCotizacionGeneral()),this.showAgregar=!1}customSuccessToast(e){this.toast.success(e,{duration:2e3,style:{border:"1px solid #2e798c",padding:"16px",color:"#2b6273"},iconTheme:{primary:"#3494a6",secondary:"#FFFAEE"}})}customErrorToast(e){this.toast.error(e,{duration:2e3,style:{border:"1px solid #ef445f",padding:"16px",color:"#ef445f"},iconTheme:{primary:"#ef445f",secondary:"#FFFAEE"}})}customLoadingToast(e){this.toast.loading(e,{duration:1e4,style:{border:"1px solid #2b59c3",padding:"16px",color:"#2b59c3"},iconTheme:{primary:"#2b59c3",secondary:"#FFFAEE"}})}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(g.F0),t.Y36(q),t.Y36(A.jE))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-lista-generales"]],decls:4,vars:3,consts:[[1,"relative","w-full","h-full","shadow-lg","overflow-auto"],[3,"typeRecive","codeRecive","response",4,"ngIf"],[4,"ngIf"],["class","flex flex-col gap-2 w-full h-full",4,"ngIf"],[3,"typeRecive","codeRecive","response"],[1,"flex","flex-col","gap-2","w-full","h-full"],[1,"flex","flex-wrap","gap-2","h-max","border","rounded-lg","border-color-text","p-2","divide-x"],[1,"flex-grow"],[1,"flex","gap-1",3,"formGroup"],[3,"id","label","control","data"],[1,"flex-grow",3,"id","label","type","autocomplete","control","icon"],[3,"icon","click"],[1,"pl-6",3,"label","type","icon","valid","click"],[1,"flex","flex-col","gap-4","w-full","h-full"],[1,"overflow-auto","shadow-md","border","rounded-lg","grow"],[1,"w-max","md:w-full","text-sm","text-center","rtl:text-right","text-primary-500","table-fixed","md:table-auto"],[1,"text-sm","text-primary-800","uppercase","bg-primary-50"],["scope","col",1,"px-6","py-3"],["class","text-primary-800 bg-white border-b hover:bg-primary-50 cursor-pointer",3,"click",4,"ngFor","ngForOf"],["aria-label","Table navigation",1,"flex","items-center","flex-column","flex-wrap","h-max","md:flex-row","justify-between"],[1,"inline-flex","-space-x-px","rtl:space-x-reverse","text-sm","h-8"],[1,"flex","items-center","justify-center","px-3","h-8","ms-0","leading-tight","text-dark-500","bg-white","border","border-dark-300","rounded-s-lg","hover:bg-dark-100","hover:text-dark-700",3,"ngClass","click"],["class","inline-flex",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-dark-500","bg-white","border","border-dark-300","rounded-e-lg","hover:bg-dark-100","hover:text-dark-700",3,"ngClass","click"],[1,"text-primary-800","bg-white","border-b","hover:bg-primary-50","cursor-pointer",3,"click"],[1,"px-2","py-2"],[1,"underline","underline-offset-1",3,"click"],[1,"inline-flex"],[1,"flex","items-center","justify-center","px-3","h-8","border","border-dark-300","hover:bg-dark-100","hover:text-dark-700",3,"ngClass"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.YNc(1,Zt,1,2,"app-cotizacion",1),t.YNc(2,kt,1,0,"app-custom-loading",2),t.YNc(3,Et,35,32,"div",3),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",i.showAgregar),t.xp6(1),t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("ngIf",!i.isLoading&&!i.showAgregar))},dependencies:[p.mk,p.sg,p.O5,x.x,B.E,I.l,T.O,z.m,a._Y,a.JL,a.sg,M,p.H9,p.uU]})}return s})(),Nt=(()=>{class s{constructor(e){this.http=e,this.urlBase=S.a,this.urlVersion="/v1",this.urlModule="/tipo-servicio"}tipoServicioRegistro(e){return this.http.post(this.urlBase+this.urlVersion+this.urlModule,e)}tipoServicioGetLista(){return this.http.get(this.urlBase+this.urlVersion+this.urlModule)}tipoServicioGetByNombre(e){return this.http.get(this.urlBase+this.urlVersion+this.urlModule+"/"+e)}tipoServicioActualizar(e,o){return this.http.patch(this.urlBase+this.urlVersion+this.urlModule+"/"+e,o)}static#t=this.\u0275fac=function(o){return new(o||s)(t.LFG(y.eN))};static#e=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),qt=(()=>{class s{constructor(e){this.router=e,this.onResponse=new t.vpe,this.formCustom=new a.cw({value1:new a.NI("",[a.kI.required]),value2:new a.NI("",[a.kI.required])})}ngOnInit(){(0,v.wQ)(),null!==this.servicio&&(this.formCustom.controls.value1.setValue(this.servicio.nombre),this.formCustom.controls.value2.setValue(this.servicio.descripcion))}onClick(e){if(e){if(this.formCustom.valid){const o=(0,w.om)(String(this.formCustom.controls.value1.value)).trim(),i=(0,w.P1)(String(this.formCustom.controls.value2.value)).trim();this.onResponse.emit({bool:e,data:{value1:o,value2:i}})}}else this.onResponse.emit({bool:e,data:0})}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(g.F0))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-custom-add-servicio"]],inputs:{id:"id",title:"title",label1:"label1",label2:"label2",class:"class",icon:"icon",servicio:"servicio"},outputs:{onResponse:"onResponse"},decls:10,vars:34,consts:[[1,"flex","justify-center","items-center","w-full","h-full","bg-gray-400","bg-opacity-60","p-4"],[1,"bg-white","rounded-lg","w-full","md:w-max","h-max","md:h-max"],[1,"h-full","flex","flex-col","gap-4","p-4","text-center"],[3,"id","label"],[1,"flex","flex-col","md:flex-row","w-full","gap-4","items-center"],[1,"w-full",3,"id","label","type","autocomplete","control","icon"],[1,"flex","justify-around","gap-4"],[3,"id","label","type","icon","valid","click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-custom-sub-title",3),t.TgZ(4,"div",4),t._UZ(5,"app-custom-input",5)(6,"app-custom-input",5),t.qZA(),t.TgZ(7,"div",6)(8,"app-custom-button",7),t.NdJ("click",function(){return i.onClick(!0)}),t.qZA(),t.TgZ(9,"app-custom-button",7),t.NdJ("click",function(){return i.onClick(!1)}),t.qZA()()()()()),2&o&&(t.xp6(3),t.Tol(""),t.Q6J("id","id_title_alert")("label",i.title),t.xp6(2),t.Tol(""),t.Q6J("id","id_input_value")("label",i.label1)("type","text")("autocomplete","text")("control",i.formCustom.controls.value1)("icon",i.icon),t.xp6(1),t.Tol(""),t.Q6J("id","id_input_descripcion")("label",i.label2)("type","text")("autocomplete","text")("control",i.formCustom.controls.value2)("icon",i.icon),t.xp6(2),t.Tol("w-32"),t.Q6J("id","id_btn_busqueda")("label","Aceptar")("type","accept")("icon","")("valid",i.formCustom.valid),t.xp6(1),t.Tol("w-32"),t.Q6J("id","id_btn_busqueda")("label","Cancelar")("type","cancel")("icon","")("valid",!0))},dependencies:[x.x,T.O,E._]})}return s})(),Bt=(()=>{class s{constructor(e){this.router=e,this.onResponseSubServicio=new t.vpe,this.formCustom=new a.cw({nombre:new a.NI("",[a.kI.required]),descripcion:new a.NI("",[a.kI.required])})}ngOnInit(){(0,v.wQ)(),null!==this.subServicio&&(this.formCustom.controls.nombre.setValue(this.subServicio.nombre),this.formCustom.controls.descripcion.setValue(this.subServicio.descripcion))}onClick(e){if(e){if(this.formCustom.valid){const o=(0,w.om)(String(this.formCustom.controls.nombre.value)).trim(),i=(0,w.P1)(String(this.formCustom.controls.descripcion.value)).trim();this.onResponseSubServicio.emit({bool:e,data:{nombre:o,descripcion:i}})}}else this.onResponseSubServicio.emit({bool:e,data:0})}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(g.F0))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-custom-add-sub-servicio"]],inputs:{id:"id",title:"title",class:"class",subServicio:"subServicio"},outputs:{onResponseSubServicio:"onResponseSubServicio"},decls:10,vars:34,consts:[[1,"flex","justify-center","items-center","w-full","h-full","bg-gray-400","bg-opacity-60","p-4"],[1,"bg-white","rounded-lg","w-full","md:w-max","h-max","md:h-max"],[1,"h-full","flex","flex-col","gap-4","p-4","text-center"],[3,"id","label"],[1,"flex","flex-col","md:flex-row","w-full","gap-4","items-center"],[1,"w-full",3,"id","label","type","autocomplete","control","icon"],[1,"flex","justify-around","gap-4"],[3,"id","label","type","icon","valid","click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-custom-sub-title",3),t.TgZ(4,"div",4),t._UZ(5,"app-custom-input",5)(6,"app-custom-input",5),t.qZA(),t.TgZ(7,"div",6)(8,"app-custom-button",7),t.NdJ("click",function(){return i.onClick(!0)}),t.qZA(),t.TgZ(9,"app-custom-button",7),t.NdJ("click",function(){return i.onClick(!1)}),t.qZA()()()()()),2&o&&(t.xp6(3),t.Tol(""),t.Q6J("id","id_title_alert")("label",i.title),t.xp6(2),t.Tol(""),t.Q6J("id","id_input_nombre_subservicio")("label","Nombre SubServicio")("type","text")("autocomplete","text")("control",i.formCustom.controls.nombre)("icon",""),t.xp6(1),t.Tol(""),t.Q6J("id","id_input_descripcion_subservicio")("label","Descripci\xf3n SubServicio")("type","text")("autocomplete","text")("control",i.formCustom.controls.descripcion)("icon",""),t.xp6(2),t.Tol("w-32"),t.Q6J("id","id_btn_busqueda")("label","Aceptar")("type","accept")("icon","")("valid",i.formCustom.valid),t.xp6(1),t.Tol("w-32"),t.Q6J("id","id_btn_busqueda")("label","Cancelar")("type","cancel")("icon","")("valid",!0))},dependencies:[x.x,T.O,E._]})}return s})();var Rt=l(6199);function Qt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-button",5),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onClickEdit())}),t.qZA()}2&s&&(t.Tol(""),t.Q6J("id","id_btn_editar_servicio")("label","Editar")("type","cancel")("icon","fa-solid fa-pen-to-square fa-lg")("valid",!0))}function Mt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-button",5),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onClickVerCuenta())}),t.qZA()}2&s&&(t.Tol(""),t.Q6J("id","id_btn_editar_servicio")("label","Cuenta")("type","cancel")("icon","fa-solid fa-building-columns fa-lg")("valid",!0))}const Dt=function(s,c){return{"bg-color-button-1 ":s,"hover:bg-primary-50":c}},O=function(s,c){return{"text-color-white":s,"text-color-button-1":c}};let Ot=(()=>{class s{constructor(){this.response=new t.vpe}onClickEdit(){this.response.emit({bool:!0,data:{id_servicio:this.servicio.id_servicio,index:this.index,type:"editar"}})}onClickVerCuenta(){this.response.emit({bool:!0,data:{id_servicio:this.servicio.id_servicio,index:this.index,type:"cuenta"}})}static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-custom-card-servicio"]],inputs:{id:"id",servicio:"servicio",index:"index",class:"class",selected:"selected"},outputs:{response:"response"},decls:8,vars:18,consts:[[1,"flex","flex-col","items-center","h-full","w-full","rounded-lg","border-2","border-color-button-1","py-2","px-4","gap-1",3,"ngClass"],[1,"w-full","text-center","font-bold","text-lg","text-color-text","tracking-wider",3,"ngClass"],[1,"text-xs","w-full","text-center",3,"ngClass"],[1,"flex","gap-4"],[3,"id","label","type","icon","class","valid","click",4,"ngIf"],[3,"id","label","type","icon","valid","click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.qZA(),t.TgZ(3,"p",2),t._uU(4),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,Qt,1,7,"app-custom-button",4),t.YNc(7,Mt,1,7,"app-custom-button",4),t.qZA()()),2&o&&(t.Tol(i.class),t.Q6J("ngClass",t.WLB(9,Dt,i.servicio.nombre==i.selected,i.servicio.nombre!=i.selected)),t.xp6(1),t.Q6J("ngClass",t.WLB(12,O,i.servicio.nombre==i.selected,i.servicio.nombre!=i.selected)),t.xp6(1),t.hij(" ",i.servicio.nombre," "),t.xp6(1),t.Q6J("ngClass",t.WLB(15,O,i.servicio.nombre==i.selected,i.servicio.nombre!=i.selected)),t.xp6(1),t.hij(" ",i.servicio.descripcion," "),t.xp6(2),t.Q6J("ngIf",i.servicio.nombre==i.selected),t.xp6(1),t.Q6J("ngIf",i.servicio.nombre==i.selected))},dependencies:[p.mk,p.O5,x.x]})}return s})();function Gt(s,c){1&s&&t._UZ(0,"app-custom-loading")}function Ut(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-add-servicio",6),t.NdJ("onResponse",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.reciveCustomInputServicio(i))}),t.qZA()}if(2&s){const e=t.oxw();t.Tol(""),t.Q6J("id","id_input_alert")("title",e.lblTitleServicio)("label1","Nombre Servicio")("label2","Descripci\xf3n Servicio")("icon","")("servicio",e.objServicioEdit)}}function Vt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-card-cuenta",7),t.NdJ("response",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.responseCuenta(i))}),t.qZA()}if(2&s){const e=t.oxw();t.Q6J("label",e.labelCuenta)("id_servicio",e.idServicioSend)}}function Yt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-add-sub-servicio",8),t.NdJ("onResponseSubServicio",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.reciveCustomInputSubServicio(i))}),t.qZA()}if(2&s){const e=t.oxw();t.Tol(""),t.Q6J("id","id_input_alert")("title",e.lblTitleSubServicio)("subServicio",e.objSubServicioEdit)}}function Pt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"app-custom-card-servicio",21),t.NdJ("click",function(){const i=t.CHM(e),r=i.$implicit,_=i.index,m=t.oxw(2);return t.KtG(m.onClickSelectCardServicio(r.nombre,_))})("response",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.reciveButton(i))}),t.qZA()}if(2&s){const e=c.$implicit,o=c.index,i=t.oxw(2);t.Tol("cursor-pointer"),t.Q6J("servicio",e)("index",o)("selected",i.selectedServicio)}}const jt=function(s){return{"bg-white":s}};function Kt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"tr",22)(1,"td",23),t._uU(2),t.qZA(),t.TgZ(3,"td",24),t._uU(4),t.qZA(),t.TgZ(5,"td",24),t._uU(6),t.qZA(),t.TgZ(7,"td",24)(8,"div",25),t._uU(9," Editar "),t.TgZ(10,"app-custom-icon",26),t.NdJ("click",function(){const r=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.onClickEditarSubServicio(r))}),t.qZA()()()()}if(2&s){const e=c.$implicit,o=c.index;t.Q6J("ngClass",t.VKq(7,jt,o%2==0)),t.xp6(2),t.hij(" ",o+1," "),t.xp6(2),t.hij(" ",e.nombre," "),t.xp6(2),t.hij(" ",e.descripcion," "),t.xp6(4),t.Tol("text-color-info cursor-pointer hover:text-color-info-hover"),t.Q6J("icon","fa-solid fa-pen-to-square fa-lg")}}function Ht(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"app-custom-button",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onClickAgregarServicio())}),t.qZA(),t.TgZ(3,"div",12),t.YNc(4,Pt,1,5,"app-custom-card-servicio",13),t.qZA()(),t.TgZ(5,"div",14)(6,"div",15)(7,"app-custom-button",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onClickAgregarSubServicio())}),t.qZA()(),t.TgZ(8,"div",16)(9,"table",17)(10,"thead",18)(11,"tr")(12,"th",19),t._uU(13," # "),t.qZA(),t.TgZ(14,"th",19),t._uU(15," Nombre "),t.qZA(),t.TgZ(16,"th",19),t._uU(17," Descripci\xf3n "),t.qZA(),t.TgZ(18,"th",19),t._uU(19," Acciones "),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,Kt,11,9,"tr",20),t.qZA()()()()()}if(2&s){const e=t.oxw();t.xp6(2),t.Tol("bg-color-info hover:bg-color-info-hover"),t.Q6J("id","id_btn_agregar_servicio")("label","Agregar Servicio")("type","accept")("icon","fa-solid fa-circle-plus fa-lg")("valid",!0),t.xp6(2),t.Q6J("ngForOf",e.dataServicios),t.xp6(3),t.Tol("bg-color-button-1 hover:bg-color-button-1-hover"),t.Q6J("id","id_btn_agregar_servicio")("label","Agregar Sub-Servicio")("type","accept")("icon","fa-solid fa-circle-plus fa-lg")("valid",!0),t.xp6(14),t.Q6J("ngForOf",e.dataServicioSubServicios)}}const Xt=[{path:"",component:U,children:[{path:"mantenimiento",component:(()=>{class s{constructor(e,o,i,r,_){this.router=e,this.toast=o,this.servicioService=i,this.subServicioService=r,this.tipoServicioService=_,this.dataLocalStorage={usuario:null,loggedDate:""},this.isLoading=!0,this.alertInfo=!1,this.alertConfirmacion=!1,this.alertError=!1,this.msgAlert="",this._ID_TIPO_SERVICIO_GENERAL=1,this.showAlertAddServicio=!1,this.showAlertAddSubServicio=!1,this.selectedServicio="",this.id_servicio_selected=0,this.id_sub_servicio_selected=0,this.dataServicios=[],this.dataServicioSubServicios=[],this.showAlertTypeServicio="",this.showAlertTypeSubServicio="",this.lblTitleServicio="Agregar Servicio",this.lblTitleSubServicio="Agregar Sub-Servicio",this.objServicioEdit=null,this.objSubServicioEdit=null,this.showCardCuenta=!1,this.labelCuenta="",this.idServicioSend=-1,null!=(0,h.WX)()?(this.dataLocalStorage=(0,h.WX)(),null!=this.dataLocalStorage.usuario?this.userLogeado=this.dataLocalStorage.usuario:((0,h.rr)(),(0,b.ni)(this.router))):((0,h.rr)(),(0,b.ni)(this.router))}ngOnInit(){(0,v.wQ)(),this.getListaServicios()}onClickSelectCardServicio(e,o){e!==this.selectedServicio&&(this.selectedServicio=e,this.id_servicio_selected=this.dataServicios[o].id_servicio,this.getListaSubServicios())}onClickAgregarServicio(){this.showAlertTypeServicio="Agregar",this.showAlertAddServicio=!0}onClickAgregarSubServicio(){0!==this.id_servicio_selected?(this.showAlertTypeSubServicio="Agregar",this.showAlertAddSubServicio=!0):this.customErrorToast("Seleccione un servicio de la columna derecha.")}onClickEditarSubServicio(e){this.objSubServicioEdit=this.dataServicioSubServicios[e],this.id_sub_servicio_selected=this.objSubServicioEdit.id_sub_servicio,this.showAlertTypeSubServicio="Editar",this.showAlertAddSubServicio=!0}onClickRemoveSubServicio(e){}getListaServicios(){this.servicioService.servicioGetListaByTipoServicio(this._ID_TIPO_SERVICIO_GENERAL).subscribe(e=>{this.dataServicios=e.data,this.isLoading=!1})}agregarServicio(e,o){this.servicioService.servicioRegistro({nombre:e,descripcion:o,id_tipo_servicio:this._ID_TIPO_SERVICIO_GENERAL,user_crea:this.userLogeado.user,user_mod:this.userLogeado.user}).subscribe(r=>{console.log(r),r.boolean?(this.customSuccessToast(r.message),this.getListaServicios()):this.customErrorToast(r.message)})}editarServicio(e,o){this.servicioService.servicioActualizar(this.id_servicio_selected,{nombre:e,descripcion:o,user_mod:this.userLogeado.user}).subscribe(r=>{r.boolean?(this.customSuccessToast(r.message),this.getListaServicios()):this.customErrorToast(r.message)})}getListaSubServicios(){this.subServicioService.subServicioGetLista(this.id_servicio_selected).subscribe(e=>{this.dataServicioSubServicios=e.data})}agregarSubServicio(e,o){this.subServicioService.subServicioRegistro({id_servicio:this.id_servicio_selected,nombre:e,descripcion:o,user_crea:this.userLogeado.user,user_mod:this.userLogeado.user}).subscribe(r=>{r.boolean?(this.customSuccessToast(r.message),this.getListaSubServicios()):this.customErrorToast(r.message)})}editarSubServicio(e,o){this.subServicioService.subServicioActualizar(this.id_sub_servicio_selected,this.id_servicio_selected,{nombre:e,descripcion:o,user_mod:this.userLogeado.user}).subscribe(r=>{r.boolean?(this.customSuccessToast(r.message),this.getListaSubServicios()):this.customErrorToast(r.message)})}reciveCustomInputServicio(e){e.bool?"Agregar"===this.showAlertTypeServicio?(this.agregarServicio(e.data.value1,e.data.value2),this.showAlertAddServicio=!1):"Editar"===this.showAlertTypeServicio&&(this.showAlertAddServicio=!1,this.lblTitleServicio="Agregar Servicio",this.showAlertTypeServicio="Agregar",this.objServicioEdit=null,this.editarServicio(e.data.value1,e.data.value2)):(this.showAlertAddServicio=e.bool,this.lblTitleServicio="Agregar Servicio",this.showAlertTypeServicio="Agregar",this.objServicioEdit=null)}reciveCustomInputSubServicio(e){e.bool?"Agregar"===this.showAlertTypeSubServicio?(this.showAlertAddSubServicio=!1,this.agregarSubServicio(e.data.nombre,e.data.descripcion)):"Editar"===this.showAlertTypeSubServicio&&(this.showAlertAddSubServicio=!1,this.lblTitleSubServicio="Agregar Sub-Servicio",this.showAlertTypeSubServicio="Agregar",this.objSubServicioEdit=null,this.editarSubServicio(e.data.nombre,e.data.descripcion)):(this.showAlertAddSubServicio=e.bool,this.lblTitleSubServicio="Agregar Sub-Servicio",this.showAlertTypeServicio="Agregar",this.objSubServicioEdit=null)}reciveButton(e){if(e.bool)switch(e.data.type){case"editar":this.lblTitleServicio="Actualizar Servicio",this.objServicioEdit=this.dataServicios[e.data.index],this.showAlertAddServicio=!0,this.showAlertTypeServicio="Editar";break;case"cuenta":this.labelCuenta=this.dataServicios[e.data.index].nombre,this.idServicioSend=this.dataServicios[e.data.index].id_servicio,this.showCardCuenta=!0}}responseCuenta(e){this.showCardCuenta=!1}customSuccessToast(e){this.toast.success(e,{duration:2e3,style:{border:"1px solid #2e798c",padding:"16px",color:"#2b6273"},iconTheme:{primary:"#3494a6",secondary:"#FFFAEE"}})}customErrorToast(e){this.toast.error(e,{duration:2e3,style:{border:"1px solid #ef445f",padding:"16px",color:"#ef445f"},iconTheme:{primary:"#ef445f",secondary:"#FFFAEE"}})}customLoadingToast(e){this.toast.loading(e,{duration:1e4,style:{border:"1px solid #2b59c3",padding:"16px",color:"#2b59c3"},iconTheme:{primary:"#2b59c3",secondary:"#FFFAEE"}})}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(g.F0),t.Y36(A.jE),t.Y36(L),t.Y36(Q),t.Y36(Nt))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-mantenimiento-generales"]],decls:6,vars:5,consts:[[1,"w-full","h-full"],[4,"ngIf"],[3,"id","title","label1","label2","class","icon","servicio","onResponse",4,"ngIf"],[3,"label","id_servicio","response",4,"ngIf"],[3,"id","title","class","subServicio","onResponseSubServicio",4,"ngIf"],["class","flex flex-col md:grid md:grid-cols-3 w-full h-full gap-4",4,"ngIf"],[3,"id","title","label1","label2","icon","servicio","onResponse"],[3,"label","id_servicio","response"],[3,"id","title","subServicio","onResponseSubServicio"],[1,"flex","flex-col","md:grid","md:grid-cols-3","w-full","h-full","gap-4"],[1,"flex","items-center","md:items-stretch","flex-row","md:flex-col","gap-4","overflow-y-hidden","md:overflow-y-auto","overflow-x-auto","w-full","h-max","md:h-full","py-4","md:py-0"],[1,"w-max",3,"id","label","type","icon","valid","click"],[1,"flex","flex-col","gap-4","shadow-lg","w-full","h-full","overflow-auto"],["class","w-max md:w-full h-max",3,"servicio","index","class","selected","click","response",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-4","md:col-span-2","grow","w-full","h-full"],[1,"flex","md:flex-row-reverse","w-full","h-max"],[1,"overflow-auto","shadow-md","border","rounded-lg","grow"],[1,"w-full","text-sm","text-center","rtl:text-right","text-primary-500"],[1,"text-sm","text-primary-800","uppercase","bg-primary-50"],["scope","col",1,"p-3"],["class","text-primary-800 text-left bg-primary-50",3,"ngClass",4,"ngFor","ngForOf"],[1,"w-max","md:w-full","h-max",3,"servicio","index","selected","click","response"],[1,"text-primary-800","text-left","bg-primary-50",3,"ngClass"],[1,"p-2","text-center","font-bold","border"],[1,"px-2","py-2","border"],[1,"flex","justify-around","gap-4"],[3,"icon","click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.YNc(1,Gt,1,0,"app-custom-loading",1),t.YNc(2,Ut,1,8,"app-custom-add-servicio",2),t.YNc(3,Vt,1,2,"app-custom-card-cuenta",3),t.YNc(4,Yt,1,5,"app-custom-add-sub-servicio",4),t.YNc(5,Ht,22,16,"div",5),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("ngIf",i.showAlertAddServicio),t.xp6(1),t.Q6J("ngIf",i.showCardCuenta),t.xp6(1),t.Q6J("ngIf",i.showAlertAddSubServicio),t.xp6(1),t.Q6J("ngIf",!(i.showAlertAddServicio||i.showAlertAddSubServicio||i.isLoading||i.showCardCuenta)))},dependencies:[p.mk,p.sg,p.O5,qt,Bt,x.x,Rt.a,Ot,I.l,z.m]})}return s})()},{path:"lista",component:Jt},{path:"agregar",component:M}]}];let Wt=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275mod=t.oAB({type:s});static#o=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(Xt),g.Bz]})}return s})();var $t=l(8524);let te=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275mod=t.oAB({type:s});static#o=this.\u0275inj=t.cJS({imports:[p.ez,Wt,$t.m,a.u5,a.UX]})}return s})()}}]);