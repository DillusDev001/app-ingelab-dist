"use strict";(self.webpackChunkapp_ingelab=self.webpackChunkapp_ingelab||[]).push([[513],{3513:(z,u,a)=>{a.r(u),a.d(u,{ProovedorModule:()=>Q});var c=a(6814),p=a(2232),n=a(95),v=a(3995),m=a(2095),g=a(5528),d=a(2999),o=a(4946),f=a(4698),x=a(1063),b=a(9924),_=a(3325),P=a(2526),T=a(9564),y=a(8613),Z=a(7614);function L(e,s){1&e&&o._UZ(0,"app-custom-loading")}function A(e,s){if(1&e){const t=o.EpF();o.TgZ(0,"app-custom-button",10),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.onClickCancelar())}),o.qZA()}if(2&e){const t=o.oxw(2);o.Tol("bg-color-error hover:bg-color-error-hover"),o.Q6J("id","id_btn_cancelar")("label","Cancelar")("type","accept")("icon","")("valid",t.formProovedor.valid)}}function C(e,s){if(1&e){const t=o.EpF();o.TgZ(0,"div",4)(1,"div",5),o._UZ(2,"app-custom-sub-title",6),o.qZA(),o.TgZ(3,"div",7),o._UZ(4,"app-custom-input",8)(5,"app-custom-input",8)(6,"app-custom-drop-box",9)(7,"app-custom-input",8)(8,"app-custom-input",8)(9,"app-custom-drop-box",9),o.TgZ(10,"app-custom-button",10),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.onClickGuardar())}),o.qZA(),o.YNc(11,A,1,7,"app-custom-button",11),o.qZA()()}if(2&e){const t=o.oxw();o.xp6(2),o.Tol(""),o.Q6J("id","")("label",t.titleLabel),o.xp6(2),o.Tol(""),o.Q6J("id","id_input_razon")("label","Raz\xf3n")("type","text")("autocomplete","text")("control",t.formProovedor.controls.razon)("icon",""),o.xp6(1),o.Tol(""),o.Q6J("id","id_input_nit")("label","NIT")("type","text")("autocomplete","")("control",t.formProovedor.controls.nit)("icon",""),o.xp6(1),o.Tol(""),o.Q6J("id","id_drop_box_banco")("label","Banco")("control",t.formProovedor.controls.banco)("data",t.dataBanco),o.xp6(1),o.Tol(""),o.Q6J("id","id_input_nro_cuenta")("label","N\xfamero de cuenta")("type","text")("autocomplete","")("control",t.formProovedor.controls.nro_cuenta)("icon",""),o.xp6(1),o.Tol(""),o.Q6J("id","id_input_beneficiario")("label","Beneficiario")("type","text")("autocomplete","")("control",t.formProovedor.controls.beneficiario)("icon",""),o.xp6(1),o.Tol(""),o.Q6J("id","id_drop_moneda")("label","Moneda")("control",t.formProovedor.controls.moneda)("data",t.dataMoneda),o.xp6(1),o.Tol(""),o.Q6J("id","id_btn_agregar")("label",t.btnLabel)("type","accept")("icon","")("valid",t.formProovedor.valid),o.xp6(1),o.Q6J("ngIf",t.isEditing)}}function w(e,s){if(1&e){const t=o.EpF();o.TgZ(0,"tr",19)(1,"td",20),o._uU(2),o.qZA(),o.TgZ(3,"td",21),o._uU(4),o.qZA(),o.TgZ(5,"td",21),o._uU(6),o.qZA(),o.TgZ(7,"td",21),o._uU(8),o.qZA(),o.TgZ(9,"td",21),o._uU(10),o.qZA(),o.TgZ(11,"td",21),o._uU(12),o.qZA(),o.TgZ(13,"td",21),o._uU(14),o.qZA(),o.TgZ(15,"td",21)(16,"app-custom-icon",22),o.NdJ("click",function(){const l=o.CHM(t).index,U=o.oxw(2);return o.KtG(U.onClickEditar(l))}),o.qZA()()()}if(2&e){const t=s.$implicit,r=s.index;o.xp6(2),o.Oqu(r+1),o.xp6(2),o.Oqu(t.razon),o.xp6(2),o.Oqu(t.nit),o.xp6(2),o.Oqu(t.banco),o.xp6(2),o.Oqu(t.nro_cuenta),o.xp6(2),o.Oqu(t.beneficiario),o.xp6(2),o.Oqu(t.moneda),o.xp6(2),o.Tol("text-color-info cursor-pointer hover:text-color-info-hover"),o.Q6J("icon","fa-solid fa-pen-to-square fa-lg")}}const E=function(e,s){return{"text-primary-600 bg-primary-50":e,"text-primary-500 bg-white cursor-pointer":s}};function S(e,s){if(1&e&&(o.TgZ(0,"ul",28)(1,"li")(2,"a",29),o._uU(3),o.qZA()()()),2&e){const t=s.$implicit,r=o.oxw(3);o.xp6(2),o.Q6J("ngClass",o.WLB(2,E,t==r.posPaginacion,t!=r.posPaginacion)),o.xp6(1),o.Oqu(t)}}const h=function(e){return{"cursor-pointer":e}};function F(e,s){if(1&e){const t=o.EpF();o.TgZ(0,"nav",23)(1,"div",24)(2,"a",25),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.anteriorLista())}),o._uU(3,"Anterior"),o.qZA(),o.YNc(4,S,4,5,"ul",26),o.TgZ(5,"a",27),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.siguienteLista())}),o._uU(6,"Siguiente"),o.qZA()()()}if(2&e){const t=o.oxw(2);o.xp6(2),o.Q6J("ngClass",o.VKq(3,h,t.posPaginacion>1)),o.xp6(2),o.Q6J("ngForOf",t.paginationArray),o.xp6(1),o.Q6J("ngClass",o.VKq(5,h,t.posPaginacion<t.paginationArray.length))}}function J(e,s){if(1&e&&(o.TgZ(0,"div",12)(1,"div",13)(2,"table",14)(3,"thead",15)(4,"tr")(5,"th",16),o._uU(6,"#"),o.qZA(),o.TgZ(7,"th",16),o._uU(8,"Raz\xf3n"),o.qZA(),o.TgZ(9,"th",16),o._uU(10,"NIT"),o.qZA(),o.TgZ(11,"th",16),o._uU(12,"Banco"),o.qZA(),o.TgZ(13,"th",16),o._uU(14,"Nro Cuenta"),o.qZA(),o.TgZ(15,"th",16),o._uU(16,"Beneficiario"),o.qZA(),o.TgZ(17,"th",16),o._uU(18,"Moneda"),o.qZA(),o.TgZ(19,"th",16),o._uU(20,"Acciones"),o.qZA()()(),o.TgZ(21,"tbody"),o.YNc(22,w,17,10,"tr",17),o.qZA()()(),o.YNc(23,F,7,7,"nav",18),o.qZA()),2&e){const t=o.oxw();o.xp6(22),o.Q6J("ngForOf",t.dataProovedores),o.xp6(1),o.Q6J("ngIf",!1)}}const q=[{path:"lista-proovedores",component:(()=>{class e{constructor(t,r,i){this.router=t,this.toast=r,this.proovedorService=i,this.dataLocalStorage={usuario:null,loggedDate:""},this.isLoading=!0,this.alertInfo=!1,this.alertConfirmacion=!1,this.alertError=!1,this.msgAlert="",this.formProovedor=new n.cw({razon:new n.NI("",[n.kI.required]),nit:new n.NI("",[n.kI.required]),banco:new n.NI("",[n.kI.required]),nro_cuenta:new n.NI("",[n.kI.required]),beneficiario:new n.NI("",[n.kI.required]),moneda:new n.NI("",[n.kI.required])}),this.titleLabel="Agregar Proveedor",this.btnLabel="Agregar",this.paginationArray=[],this.dataProovedores=[],this.isEditing=!1,this.dataBanco=m.qg,this.dataMoneda=m.oW,null!=(0,d.WX)()?(this.dataLocalStorage=(0,d.WX)(),null!=this.dataLocalStorage.usuario?this.userLogeado=this.dataLocalStorage.usuario:((0,d.rr)(),(0,g.ni)(this.router))):((0,d.rr)(),(0,g.ni)(this.router))}ngOnInit(){(0,v.wQ)(),this.getListaProveedor()}showListaNext(t){this.posPaginacion=t;let i=10*t-10,l=0;for(l=i+9<=this.dataProovedores.length-1?i+9:this.dataProovedores.length-1,this.dataProovedores=[];i<=l;)this.dataProovedores.push(this.dataProovedores[i]),i++}anteriorLista(){this.posPaginacion-1>0&&this.showListaNext(this.posPaginacion-1)}siguienteLista(){this.posPaginacion+1<=this.paginationArray.length&&this.showListaNext(this.posPaginacion+1)}limpiarFormParametro(){this.formProovedor.controls.razon.setValue(""),this.formProovedor.controls.nit.setValue(""),this.formProovedor.controls.banco.setValue(""),this.formProovedor.controls.nro_cuenta.setValue(""),this.formProovedor.controls.beneficiario.setValue(""),this.formProovedor.controls.moneda.setValue("")}labelSetEdit(){this.titleLabel="Actualizar Proveedor",this.btnLabel="Guardar",this.isEditing=!0}labelSetAgregar(){this.titleLabel="Agregar Proveedor",this.btnLabel="Agregar",this.isEditing=!1,this.limpiarFormParametro()}onClickGuardar(){this.formProovedor.valid&&(this.isLoading=!0,"Agregar"===this.btnLabel?this.agregarProovedor():"Guardar"===this.btnLabel&&this.editarParametro())}onClickCancelar(){this.labelSetAgregar()}onClickEditar(t){this.proovedorEdit=this.dataProovedores[t],this.formProovedor.controls.razon.setValue(this.proovedorEdit.razon),this.formProovedor.controls.nit.setValue(this.proovedorEdit.nit),this.formProovedor.controls.banco.setValue(this.proovedorEdit.banco),this.formProovedor.controls.nro_cuenta.setValue(this.proovedorEdit.nro_cuenta),this.formProovedor.controls.beneficiario.setValue(this.proovedorEdit.beneficiario),this.formProovedor.controls.moneda.setValue(this.proovedorEdit.moneda),this.labelSetEdit()}agregarProovedor(){const t={razon:String(this.formProovedor.controls.razon.value),nit:String(this.formProovedor.controls.nit.value),banco:String(this.formProovedor.controls.banco.value),nro_cuenta:String(this.formProovedor.controls.nro_cuenta.value),beneficiario:String(this.formProovedor.controls.beneficiario.value),moneda:String(this.formProovedor.controls.moneda.value),user_crea:this.userLogeado.user,user_mod:this.userLogeado.user};this.proovedorService.proovedorRegistro(t).subscribe(r=>{r.boolean?(this.customSuccessToast(r.message),this.getListaProveedor(),this.labelSetAgregar()):this.customErrorToast(r.message)})}editarParametro(){const t={razon:String(this.formProovedor.controls.razon.value),nit:String(this.formProovedor.controls.nit.value),banco:String(this.formProovedor.controls.banco.value),nro_cuenta:String(this.formProovedor.controls.nro_cuenta.value),beneficiario:String(this.formProovedor.controls.beneficiario.value),moneda:String(this.formProovedor.controls.moneda.value),user_mod:this.userLogeado.user};this.proovedorService.proovedorActualizar(this.proovedorEdit.id_proveedor,t).subscribe(r=>{r.boolean?(this.customSuccessToast(r.message),this.getListaProveedor(),this.labelSetAgregar()):this.customErrorToast(r.message)})}getListaProveedor(){this.proovedorService.proovedorGetLista().subscribe(t=>{t.boolean&&(this.dataProovedores=t.data),this.isLoading=!1})}customSuccessToast(t){this.toast.success(t,{duration:2e3,style:{border:"1px solid #2e798c",padding:"16px",color:"#2b6273"},iconTheme:{primary:"#3494a6",secondary:"#FFFAEE"}})}customErrorToast(t){this.toast.error(t,{duration:2e3,style:{border:"1px solid #ef445f",padding:"16px",color:"#ef445f"},iconTheme:{primary:"#ef445f",secondary:"#FFFAEE"}})}customLoadingToast(t){this.toast.loading(t,{duration:1e4,style:{border:"1px solid #2b59c3",padding:"16px",color:"#2b59c3"},iconTheme:{primary:"#2b59c3",secondary:"#FFFAEE"}})}static#o=this.\u0275fac=function(r){return new(r||e)(o.Y36(p.F0),o.Y36(f.jE),o.Y36(x.k))};static#t=this.\u0275cmp=o.Xpm({type:e,selectors:[["app-lista-proveedores"]],decls:4,vars:3,consts:[[1,"flex","flex-col","gap-4","w-full","h-full","overflow-auto"],[4,"ngIf"],["class","flex flex-col border border-dashed border-color-text rounded-lg w-full h-max p-2",4,"ngIf"],["class","flex flex-col gap-4 w-full h-full",4,"ngIf"],[1,"flex","flex-col","border","border-dashed","border-color-text","rounded-lg","w-full","h-max","p-2"],[1,"flex","w-full","mb-2"],[3,"id","label"],[1,"grid","grid-cols-4","gap-4","w-full"],[3,"id","label","type","autocomplete","control","icon"],[3,"id","label","control","data"],[1,"h-full","w-40",3,"id","label","type","icon","valid","click"],["class","h-full w-40",3,"id","label","type","icon","class","valid","click",4,"ngIf"],[1,"flex","flex-col","gap-4","w-full","h-full"],[1,"overflow-auto","shadow-md","border","rounded-lg","grow"],[1,"w-full","text-sm","text-center","rtl:text-right","text-primary-500"],[1,"text-sm","text-primary-800","uppercase","bg-primary-50"],["scope","col",1,"px-6","py-3"],["class","text-primary-800 bg-white border-b hover:bg-primary-50",4,"ngFor","ngForOf"],["class","flex items-center flex-column flex-wrap h-max md:flex-row justify-between","aria-label","Table navigation",4,"ngIf"],[1,"text-primary-800","bg-white","border-b","hover:bg-primary-50"],[1,"p-2"],[1,"px-2","py-2"],[3,"icon","click"],["aria-label","Table navigation",1,"flex","items-center","flex-column","flex-wrap","h-max","md:flex-row","justify-between"],[1,"inline-flex","-space-x-px","rtl:space-x-reverse","text-sm","h-8"],[1,"flex","items-center","justify-center","px-3","h-8","ms-0","leading-tight","text-primary-500","bg-white","border","border-primary-300","rounded-s-lg","hover:bg-primary-100","hover:text-primary-700",3,"ngClass","click"],["class","inline-flex",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-primary-500","bg-white","border","border-primary-300","rounded-e-lg","hover:bg-primary-100","hover:text-primary-700",3,"ngClass","click"],[1,"inline-flex"],[1,"flex","items-center","justify-center","px-3","h-8","border","border-primary-300","hover:bg-primary-100","hover:text-primary-700",3,"ngClass"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0),o.YNc(1,L,1,0,"app-custom-loading",1),o.YNc(2,C,12,56,"div",2),o.YNc(3,J,24,2,"div",3),o.qZA()),2&r&&(o.xp6(1),o.Q6J("ngIf",i.isLoading),o.xp6(1),o.Q6J("ngIf",!i.isLoading),o.xp6(1),o.Q6J("ngIf",!i.isEditing&&!i.isLoading))},dependencies:[c.mk,c.sg,c.O5,b.x,_.E,P.l,T.O,y.m,Z._]})}return e})()}];let I=(()=>{class e{static#o=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=o.oAB({type:e});static#e=this.\u0275inj=o.cJS({imports:[p.Bz.forChild(q),p.Bz]})}return e})();var N=a(8524);let Q=(()=>{class e{static#o=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=o.oAB({type:e});static#e=this.\u0275inj=o.cJS({imports:[c.ez,I,N.m]})}return e})()}}]);