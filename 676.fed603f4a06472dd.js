"use strict";(self.webpackChunkapp_ingelab=self.webpackChunkapp_ingelab||[]).push([[676],{4628:(g,f,i)=>{i.r(f),i.d(f,{LaboModule:()=>z});var c=i(6814),u=i(2232),r=i(95),_=i(3995),l=i(2095),d=i(5528),n=i(2999),t=i(4946),h=i(4698),x=i(1166),v=i(9924),F=i(3325),L=i(2526),b=i(9564),y=i(8613),T=i(6833);function R(e,p){if(1&e){const o=t.EpF();t.TgZ(0,"app-recepcion-frx",4),t.NdJ("response",function(a){t.CHM(o);const m=t.oxw();return t.KtG(m.recepcionResponse(a))}),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("typeRecive",o.showFormularioFRX)("codeRecive",o.codeFormularioFRX)}}function Z(e,p){1&e&&t._UZ(0,"app-custom-loading")}function C(e,p){if(1&e){const o=t.EpF();t.TgZ(0,"app-custom-button",20),t.NdJ("click",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.onClickAgregar())}),t.qZA()}if(2&e){const o=t.oxw(2);t.Tol("h-full"),t.Q6J("label","Nueva Cotizaci\xf3n")("type","accept")("icon","")("valid",o.formBusqueda.valid)}}function A(e,p){if(1&e){const o=t.EpF();t.TgZ(0,"p",27),t.NdJ("click",function(){t.CHM(o);const a=t.oxw().index,m=t.oxw(2);return t.KtG(m.onClickIniciar(a))}),t._uU(1," Iniciar "),t.qZA()}}function M(e,p){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(o.user_asignado)}}function w(e,p){if(1&e){const o=t.EpF();t.TgZ(0,"p",28),t.NdJ("click",function(){t.CHM(o);const a=t.oxw().index,m=t.oxw(2);return t.KtG(m.onClickFinalizar(a))}),t._uU(1," Finalizar "),t.qZA()}}function E(e,p){if(1&e){const o=t.EpF();t.TgZ(0,"tr",21)(1,"td",22),t.NdJ("click",function(){const m=t.CHM(o).index,O=t.oxw(2);return t.KtG(O.onClickListaElement(m))}),t._uU(2),t.qZA(),t.TgZ(3,"td",23),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",23),t._uU(7),t.qZA(),t.TgZ(8,"td",23),t.YNc(9,A,2,0,"p",24),t.YNc(10,M,2,1,"p",2),t.qZA(),t.TgZ(11,"td",23),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"td",23),t._uU(15),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"td",25),t.YNc(18,w,2,0,"p",26),t.qZA()()}if(2&e){const o=p.$implicit;t.xp6(2),t.Oqu(o.cod_cotizacion),t.xp6(2),t.Oqu(t.xi3(5,8,o.fec_recepcion,"dd-MM-yyyy")),t.xp6(3),t.Oqu(o.user_recepcion),t.xp6(2),t.Q6J("ngIf",""==o.user_asignado),t.xp6(1),t.Q6J("ngIf",""!==o.user_asignado),t.xp6(2),t.Oqu(t.xi3(13,11,o.fec_ini,"dd-MM-yyyy")),t.xp6(3),t.Oqu(t.xi3(16,14,o.fec_fin,"dd-MM-yyyy")),t.xp6(3),t.Q6J("ngIf",""!=o.fec_ini&&""==o.fec_fin)}}function q(e,p){if(1&e){const o=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"form",8),t._UZ(4,"app-custom-drop-box",9)(5,"app-custom-input",10),t.TgZ(6,"app-custom-icon",11),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.onClickBusqueda())}),t.qZA()()(),t.YNc(7,C,1,6,"app-custom-button",12),t.qZA(),t.TgZ(8,"div",13)(9,"div",14)(10,"table",15)(11,"thead",16)(12,"tr")(13,"th",17),t._uU(14,"C\xf3digo Cotizaci\xf3n"),t.qZA(),t.TgZ(15,"th",17),t._uU(16,"Fecha Recepci\xf3n"),t.qZA(),t.TgZ(17,"th",17),t._uU(18,"Usuario Recepci\xf3n"),t.qZA(),t.TgZ(19,"th",17),t._uU(20,"Asignado"),t.qZA(),t.TgZ(21,"th",17),t._uU(22,"Fecha Inicio"),t.qZA(),t.TgZ(23,"th",17),t._uU(24,"Fecha Finalizaci\xf3n"),t.qZA(),t._UZ(25,"th",17),t.qZA()(),t.TgZ(26,"tbody"),t.YNc(27,E,19,17,"tr",18),t.qZA()()(),t._UZ(28,"nav",19),t.qZA()()}if(2&e){const o=t.oxw();t.xp6(3),t.Q6J("formGroup",o.formBusqueda),t.xp6(1),t.Tol("w-max"),t.Q6J("id","id_pregunta")("label","B\xfasqueda...")("control",o.formBusqueda.controls.busqueda)("data",o.dataBusquedaCotizacion),t.xp6(1),t.Tol("w-full flex-grow"),t.Q6J("id","id_busqueda_value")("label","B\xfasqueda...")("type","text")("autocomplete","")("control",o.formBusqueda.controls.value)("icon",""),t.xp6(1),t.Tol("h-full "),t.Q6J("icon","fa-solid fa-magnifying-glass fa-xl align-bottom cursor-pointer"),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(20),t.Q6J("ngForOf",o.dataRecepcion)}}const B=[{path:"",component:(()=>{class e{constructor(o,s,a){this.router=o,this.toast=s,this.recepcionFrxService=a,this.dataLocalStorage={usuario:null,loggedDate:""},this.isLoading=!0,this.msgAlert="",this.formBusqueda=new r.cw({busqueda:new r.NI("cod_cotizacion",[]),value:new r.NI("",[])}),this.dataBusquedaCotizacion=l.jt,this.dataRecepcion=[],this.showRecepcionFRX=!1,this.showFormularioFRX="",this.codeFormularioFRX="",null!=(0,n.WX)()?(this.dataLocalStorage=(0,n.WX)(),null!=this.dataLocalStorage.usuario?this.userLogeado=this.dataLocalStorage.usuario:((0,n.rr)(),(0,d.ni)(this.router))):((0,n.rr)(),(0,d.ni)(this.router))}ngOnInit(){(0,_.wQ)(),this.getMiListaRecepcionFrx()}onClickBusqueda(){const o=String(this.formBusqueda.controls.value.value);this.buscarRecepcionFRX(o)}onClickAgregar(){}onClickListaElement(o){this.showFormularioFRX="ver",this.codeFormularioFRX=this.dataRecepcion[o].cod_cotizacion,this.showRecepcionFRX=!0}onClickIniciar(o){const s=this.dataRecepcion[o],a={user_asignado:this.userLogeado.user,fec_ini:(0,c.p6)(new Date,"yyyy-MM-dd","es"),user_mod:this.userLogeado.user};this.actualizarRecepcionFRX(s.cod_cotizacion,a)}onClickFinalizar(o){const s=this.dataRecepcion[o];if(s.user_asignado==this.userLogeado.user){const a={user_asignado:this.userLogeado.user,fec_fin:(0,c.p6)(new Date,"yyyy-MM-dd","es"),user_mod:this.userLogeado.user};this.actualizarRecepcionFRX(s.cod_cotizacion,a)}else this.customErrorToast("El usuario actual no es el mismo que ha iniciado el trabajo")}getMiListaRecepcionFrx(){this.dataRecepcion=[],this.recepcionFrxService.recepcionFrxMiLista(this.userLogeado.user).subscribe(o=>{o.rows>0&&(this.dataRecepcion=o.data),this.isLoading=!1})}buscarRecepcionFRX(o){this.recepcionFrxService.recepcionFrxGetUno(o).subscribe(s=>{s.boolean?this.dataRecepcion=s.data:this.customErrorToast(s.message)})}actualizarRecepcionFRX(o,s){this.isLoading=!0,this.recepcionFrxService.recepcionFrxActualizar(o,s).subscribe(a=>{a.boolean?this.getMiListaRecepcionFrx():this.customErrorToast(a.message),this.isLoading=!1})}recepcionResponse(o){this.showRecepcionFRX=!1}customSuccessToast(o){this.toast.success(o,{duration:2e3,style:{border:"1px solid #2e798c",padding:"16px",color:"#2b6273"},iconTheme:{primary:"#3494a6",secondary:"#FFFAEE"}})}customErrorToast(o){this.toast.error(o,{duration:2e3,style:{border:"1px solid #ef445f",padding:"16px",color:"#ef445f"},iconTheme:{primary:"#ef445f",secondary:"#FFFAEE"}})}customLoadingToast(o){this.toast.loading(o,{duration:1e4,style:{border:"1px solid #2b59c3",padding:"16px",color:"#2b59c3"},iconTheme:{primary:"#2b59c3",secondary:"#FFFAEE"}})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(u.F0),t.Y36(h.jE),t.Y36(x.J))};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-lista-labo"]],decls:4,vars:3,consts:[[1,"relative","w-full","h-full","shadow-lg","overflow-auto","p-4"],[3,"typeRecive","codeRecive","response",4,"ngIf"],[4,"ngIf"],["class","flex flex-col gap-2 w-full h-full",4,"ngIf"],[3,"typeRecive","codeRecive","response"],[1,"flex","flex-col","gap-2","w-full","h-full"],[1,"flex","flex-wrap","gap-2","h-max","border","rounded-lg","border-color-text","p-2","divide-x"],[1,"flex-grow"],[1,"flex","gap-1",3,"formGroup"],[3,"id","label","control","data"],[1,"flex-grow",3,"id","label","type","autocomplete","control","icon"],[3,"icon","click"],["class","pl-6",3,"label","type","icon","class","valid","click",4,"ngIf"],[1,"flex","flex-col","gap-4","w-full","h-full"],[1,"overflow-auto","shadow-md","border","rounded-lg","grow"],[1,"w-max","md:w-full","text-sm","text-center","rtl:text-right","text-primary-500","table-fixed","md:table-auto"],[1,"text-sm","text-primary-800","uppercase","bg-primary-50"],["scope","col",1,"px-6","py-3"],["class","text-primary-800 bg-white border-b hover:bg-primary-50",4,"ngFor","ngForOf"],["aria-label","Table navigation",1,"flex","items-center","flex-column","flex-wrap","h-max","md:flex-row","justify-between"],[1,"pl-6",3,"label","type","icon","valid","click"],[1,"text-primary-800","bg-white","border-b","hover:bg-primary-50"],[1,"px-2","py-2","cursor-pointer",3,"click"],[1,"px-2","py-2"],["class","underline underline-offset-1 cursor-pointer",3,"click",4,"ngIf"],[1,"px-2","py-2","cursor-pointer"],["class","underline underline-offset-1",3,"click",4,"ngIf"],[1,"underline","underline-offset-1","cursor-pointer",3,"click"],[1,"underline","underline-offset-1",3,"click"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0),t.YNc(1,R,1,2,"app-recepcion-frx",1),t.YNc(2,Z,1,0,"app-custom-loading",2),t.YNc(3,q,29,20,"div",3),t.qZA()),2&s&&(t.xp6(1),t.Q6J("ngIf",a.showRecepcionFRX),t.xp6(1),t.Q6J("ngIf",a.isLoading),t.xp6(1),t.Q6J("ngIf",!a.isLoading&&!a.showRecepcionFRX))},dependencies:[c.sg,c.O5,v.x,F.E,L.l,b.O,y.m,r._Y,r.JL,r.sg,T.k,c.uU]})}return e})()}];let U=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#o=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(B),u.Bz]})}return e})();var I=i(8524),J=i(5224);let z=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#o=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[c.ez,U,I.m,J.RecepcionModule]})}return e})()},6994:(g,f,i)=>{i.d(f,{y:()=>u});var c=i(4946);let u=(()=>{class r{static#t=this.\u0275fac=function(d){return new(d||r)};static#o=this.\u0275cmp=c.Xpm({type:r,selectors:[["app-custom-label1"]],inputs:{id:"id",label:"label",text:"text",class:"class"},decls:5,vars:4,consts:[[1,"flex","gap-1","items-center","w-full","h-full"],[1,"font-medium","text-color-text"],[1,"flex","items-center","gap-2","py-1","px-3","text-color-text","w-max","rounded-lg","border","h-full"]],template:function(d,n){1&d&&(c.TgZ(0,"div",0)(1,"p",1),c._uU(2),c.qZA(),c.TgZ(3,"div",2),c._uU(4),c.qZA()()),2&d&&(c.Tol(n.class),c.xp6(2),c.Oqu(n.label),c.xp6(2),c.Oqu(n.text))}})}return r})()},8496:(g,f,i)=>{i.d(f,{J:()=>_});var c=i(7459),u=i(4946),r=i(9862);let _=(()=>{class l{constructor(n){this.http=n,this.urlBase=c.a,this.urlVersion="/v1",this.urlModule="/persona"}personaAdd(n){return this.http.post(this.urlBase+this.urlVersion+this.urlModule,n)}personaBusqueda(n,t){return this.http.get(this.urlBase+this.urlVersion+this.urlModule+"/"+n+"/"+t)}personaBusquedaID(n){return this.http.get(this.urlBase+this.urlVersion+this.urlModule+"/id_persona/"+n)}personaGetAll(){return this.http.get(this.urlBase+this.urlVersion+this.urlModule)}personaUpdate(n,t){return this.http.patch(this.urlBase+this.urlVersion+this.urlModule+"/"+n,t)}personaRemove(n){return this.http.delete(this.urlBase+this.urlVersion+this.urlModule+"/"+n)}static#t=this.\u0275fac=function(t){return new(t||l)(u.LFG(r.eN))};static#o=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()}}]);